!function e(t,r,n){function i(s,o){if(!r[s]){if(!t[s]){var a="function"==typeof require&&require;if(!o&&a)return a(s,!0);if(u)return u(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=r[s]={exports:{}};t[s][0].call(f.exports,function(e){var r=t[s][1][e];return i(r?r:e)},f,f.exports,e,t,r,n)}return r[s].exports}for(var u="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(e,t,r){t.exports={default:e("core-js/library/fn/array/from"),__esModule:!0}},{"core-js/library/fn/array/from":17}],2:[function(e,t,r){t.exports={default:e("core-js/library/fn/get-iterator"),__esModule:!0}},{"core-js/library/fn/get-iterator":18}],3:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":19}],4:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":20}],5:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/get-own-property-descriptor"),__esModule:!0}},{"core-js/library/fn/object/get-own-property-descriptor":21}],6:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/get-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/get-prototype-of":22}],7:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/set-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/set-prototype-of":23}],8:[function(e,t,r){t.exports={default:e("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":24}],9:[function(e,t,r){t.exports={default:e("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":25}],10:[function(e,t,r){"use strict";r.__esModule=!0,r.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},{}],11:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var i=e("../core-js/object/define-property"),u=n(i);r.default=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,u.default)(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()},{"../core-js/object/define-property":4}],12:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var i=e("../core-js/object/get-prototype-of"),u=n(i),s=e("../core-js/object/get-own-property-descriptor"),o=n(s);r.default=function e(t,r,n){null===t&&(t=Function.prototype);var i=(0,o.default)(t,r);if(void 0===i){var s=(0,u.default)(t);return null===s?void 0:e(s,r,n)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(n)}},{"../core-js/object/get-own-property-descriptor":5,"../core-js/object/get-prototype-of":6}],13:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var i=e("../core-js/object/set-prototype-of"),u=n(i),s=e("../core-js/object/create"),o=n(s),a=e("../helpers/typeof"),c=n(a);r.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":(0,c.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(u.default?(0,u.default)(e,t):e.__proto__=t)}},{"../core-js/object/create":3,"../core-js/object/set-prototype-of":7,"../helpers/typeof":16}],14:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var i=e("../helpers/typeof"),u=n(i);r.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":(0,u.default)(t))&&"function"!=typeof t?e:t}},{"../helpers/typeof":16}],15:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var i=e("../core-js/array/from"),u=n(i);r.default=function(e){return Array.isArray(e)?e:(0,u.default)(e)}},{"../core-js/array/from":1}],16:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var i="function"==typeof _Symbol&&"symbol"==typeof _Symbol$iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof _Symbol&&e.constructor===_Symbol?"symbol":typeof e};r.__esModule=!0;var u=e("../core-js/symbol/iterator"),s=n(u),o=e("../core-js/symbol"),a=n(o);r.default="function"==typeof a.default&&"symbol"===i(s.default)?function(e){return"undefined"==typeof e?"undefined":i(e)}:function(e){return e&&"function"==typeof a.default&&e.constructor===a.default?"symbol":"undefined"==typeof e?"undefined":i(e)}},{"../core-js/symbol":8,"../core-js/symbol/iterator":9}],17:[function(e,t,r){e("../../modules/es6.string.iterator"),e("../../modules/es6.array.from"),t.exports=e("../../modules/$.core").Array.from},{"../../modules/$.core":31,"../../modules/es6.array.from":70,"../../modules/es6.string.iterator":76}],18:[function(e,t,r){e("../modules/web.dom.iterable"),e("../modules/es6.string.iterator"),t.exports=e("../modules/core.get-iterator")},{"../modules/core.get-iterator":69,"../modules/es6.string.iterator":76,"../modules/web.dom.iterable":78}],19:[function(e,t,r){var n=e("../../modules/$");t.exports=function(e,t){return n.create(e,t)}},{"../../modules/$":52}],20:[function(e,t,r){var n=e("../../modules/$");t.exports=function(e,t,r){return n.setDesc(e,t,r)}},{"../../modules/$":52}],21:[function(e,t,r){var n=e("../../modules/$");e("../../modules/es6.object.get-own-property-descriptor"),t.exports=function(e,t){return n.getDesc(e,t)}},{"../../modules/$":52,"../../modules/es6.object.get-own-property-descriptor":72}],22:[function(e,t,r){e("../../modules/es6.object.get-prototype-of"),t.exports=e("../../modules/$.core").Object.getPrototypeOf},{"../../modules/$.core":31,"../../modules/es6.object.get-prototype-of":73}],23:[function(e,t,r){e("../../modules/es6.object.set-prototype-of"),t.exports=e("../../modules/$.core").Object.setPrototypeOf},{"../../modules/$.core":31,"../../modules/es6.object.set-prototype-of":74}],24:[function(e,t,r){e("../../modules/es6.symbol"),e("../../modules/es6.object.to-string"),t.exports=e("../../modules/$.core").Symbol},{"../../modules/$.core":31,"../../modules/es6.object.to-string":75,"../../modules/es6.symbol":77}],25:[function(e,t,r){e("../../modules/es6.string.iterator"),e("../../modules/web.dom.iterable"),t.exports=e("../../modules/$.wks")("iterator")},{"../../modules/$.wks":67,"../../modules/es6.string.iterator":76,"../../modules/web.dom.iterable":78}],26:[function(e,t,r){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],27:[function(e,t,r){t.exports=function(){}},{}],28:[function(e,t,r){var n=e("./$.is-object");t.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},{"./$.is-object":45}],29:[function(e,t,r){var n=e("./$.cof"),i=e("./$.wks")("toStringTag"),u="Arguments"==n(function(){return arguments}());t.exports=function(e){var t,r,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=(t=Object(e))[i])?r:u?n(t):"Object"==(s=n(t))&&"function"==typeof t.callee?"Arguments":s}},{"./$.cof":30,"./$.wks":67}],30:[function(e,t,r){var n={}.toString;t.exports=function(e){return n.call(e).slice(8,-1)}},{}],31:[function(e,t,r){var n=t.exports={version:"1.2.6"};"number"==typeof __e&&(__e=n)},{}],32:[function(e,t,r){var n=e("./$.a-function");t.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},{"./$.a-function":26}],33:[function(e,t,r){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],34:[function(e,t,r){t.exports=!e("./$.fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./$.fails":37}],35:[function(e,t,r){var n=e("./$");t.exports=function(e){var t=n.getKeys(e),r=n.getSymbols;if(r)for(var i,u=r(e),s=n.isEnum,o=0;u.length>o;)s.call(e,i=u[o++])&&t.push(i);return t}},{"./$":52}],36:[function(e,t,r){var n=e("./$.global"),i=e("./$.core"),u=e("./$.ctx"),s="prototype",o=function(e,t,r){var a,c,f,l=e&o.F,_=e&o.G,h=e&o.S,g=e&o.P,b=e&o.B,p=e&o.W,d=_?i:i[t]||(i[t]={}),v=_?n:h?n[t]:(n[t]||{})[s];_&&(r=t);for(a in r)c=!l&&v&&a in v,c&&a in d||(f=c?v[a]:r[a],d[a]=_&&"function"!=typeof v[a]?r[a]:b&&c?u(f,n):p&&v[a]==f?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t[s]=e[s],t}(f):g&&"function"==typeof f?u(Function.call,f):f,g&&((d[s]||(d[s]={}))[a]=f))};o.F=1,o.G=2,o.S=4,o.P=8,o.B=16,o.W=32,t.exports=o},{"./$.core":31,"./$.ctx":32,"./$.global":39}],37:[function(e,t,r){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],38:[function(e,t,r){var n=e("./$.to-iobject"),i=e("./$").getNames,u={}.toString,s="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o=function(e){try{return i(e)}catch(e){return s.slice()}};t.exports.get=function(e){return s&&"[object Window]"==u.call(e)?o(e):i(n(e))}},{"./$":52,"./$.to-iobject":63}],39:[function(e,t,r){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],40:[function(e,t,r){var n={}.hasOwnProperty;t.exports=function(e,t){return n.call(e,t)}},{}],41:[function(e,t,r){var n=e("./$"),i=e("./$.property-desc");t.exports=e("./$.descriptors")?function(e,t,r){return n.setDesc(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},{"./$":52,"./$.descriptors":34,"./$.property-desc":56}],42:[function(e,t,r){var n=e("./$.cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},{"./$.cof":30}],43:[function(e,t,r){var n=e("./$.iterators"),i=e("./$.wks")("iterator"),u=Array.prototype;t.exports=function(e){return void 0!==e&&(n.Array===e||u[i]===e)}},{"./$.iterators":51,"./$.wks":67}],44:[function(e,t,r){var n=e("./$.cof");t.exports=Array.isArray||function(e){return"Array"==n(e)}},{"./$.cof":30}],45:[function(e,t,r){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],46:[function(e,t,r){var n=e("./$.an-object");t.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){var u=e.return;throw void 0!==u&&n(u.call(e)),t}}},{"./$.an-object":28}],47:[function(e,t,r){"use strict";var n=e("./$"),i=e("./$.property-desc"),u=e("./$.set-to-string-tag"),s={};e("./$.hide")(s,e("./$.wks")("iterator"),function(){return this}),t.exports=function(e,t,r){e.prototype=n.create(s,{next:i(1,r)}),u(e,t+" Iterator")}},{"./$":52,"./$.hide":41,"./$.property-desc":56,"./$.set-to-string-tag":59,"./$.wks":67}],48:[function(e,t,r){"use strict";var n=e("./$.library"),i=e("./$.export"),u=e("./$.redefine"),s=e("./$.hide"),o=e("./$.has"),a=e("./$.iterators"),c=e("./$.iter-create"),f=e("./$.set-to-string-tag"),l=e("./$").getProto,_=e("./$.wks")("iterator"),h=!([].keys&&"next"in[].keys()),g="@@iterator",b="keys",p="values",d=function(){return this};t.exports=function(e,t,r,v,m,y,T){c(r,t,v);var k,C,P=function(e){if(!h&&e in E)return E[e];switch(e){case b:return function(){return new r(this,e)};case p:return function(){return new r(this,e)}}return function(){return new r(this,e)}},S=t+" Iterator",w=m==p,M=!1,E=e.prototype,$=E[_]||E[g]||m&&E[m],j=$||P(m);if($){var I=l(j.call(new e));f(I,S,!0),!n&&o(E,g)&&s(I,_,d),w&&$.name!==p&&(M=!0,j=function(){return $.call(this)})}if(n&&!T||!h&&!M&&E[_]||s(E,_,j),a[t]=j,a[S]=d,m)if(k={values:w?j:P(p),keys:y?j:P(b),entries:w?P("entries"):j},T)for(C in k)C in E||u(E,C,k[C]);else i(i.P+i.F*(h||M),t,k);return k}},{"./$":52,"./$.export":36,"./$.has":40,"./$.hide":41,"./$.iter-create":47,"./$.iterators":51,"./$.library":54,"./$.redefine":57,"./$.set-to-string-tag":59,"./$.wks":67}],49:[function(e,t,r){var n=e("./$.wks")("iterator"),i=!1;try{var u=[7][n]();u.return=function(){i=!0},Array.from(u,function(){throw 2})}catch(e){}t.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var u=[7],s=u[n]();s.next=function(){r=!0},u[n]=function(){return s},e(u)}catch(e){}return r}},{"./$.wks":67}],50:[function(e,t,r){t.exports=function(e,t){return{value:t,done:!!e}}},{}],51:[function(e,t,r){t.exports={}},{}],52:[function(e,t,r){var n=Object;t.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},{}],53:[function(e,t,r){var n=e("./$"),i=e("./$.to-iobject");t.exports=function(e,t){for(var r,u=i(e),s=n.getKeys(u),o=s.length,a=0;o>a;)if(u[r=s[a++]]===t)return r}},{"./$":52,"./$.to-iobject":63}],54:[function(e,t,r){t.exports=!0},{}],55:[function(e,t,r){var n=e("./$.export"),i=e("./$.core"),u=e("./$.fails");t.exports=function(e,t){var r=(i.Object||{})[e]||Object[e],s={};s[e]=t(r),n(n.S+n.F*u(function(){r(1)}),"Object",s)}},{"./$.core":31,"./$.export":36,"./$.fails":37}],56:[function(e,t,r){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],57:[function(e,t,r){t.exports=e("./$.hide")},{"./$.hide":41}],58:[function(e,t,r){var n=e("./$").getDesc,i=e("./$.is-object"),u=e("./$.an-object"),s=function(e,t){if(u(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,r,i){try{i=e("./$.ctx")(Function.call,n(Object.prototype,"__proto__").set,2),i(t,[]),r=!(t instanceof Array)}catch(e){r=!0}return function(e,t){return s(e,t),r?e.__proto__=t:i(e,t),e}}({},!1):void 0),check:s}},{"./$":52,"./$.an-object":28,"./$.ctx":32,"./$.is-object":45}],59:[function(e,t,r){var n=e("./$").setDesc,i=e("./$.has"),u=e("./$.wks")("toStringTag");t.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,u)&&n(e,u,{configurable:!0,value:t})}},{"./$":52,"./$.has":40,"./$.wks":67}],60:[function(e,t,r){var n=e("./$.global"),i="__core-js_shared__",u=n[i]||(n[i]={});t.exports=function(e){return u[e]||(u[e]={})}},{"./$.global":39}],61:[function(e,t,r){var n=e("./$.to-integer"),i=e("./$.defined");t.exports=function(e){return function(t,r){var u,s,o=String(i(t)),a=n(r),c=o.length;return 0>a||a>=c?e?"":void 0:(u=o.charCodeAt(a),55296>u||u>56319||a+1===c||(s=o.charCodeAt(a+1))<56320||s>57343?e?o.charAt(a):u:e?o.slice(a,a+2):(u-55296<<10)+(s-56320)+65536)}}},{"./$.defined":33,"./$.to-integer":62}],62:[function(e,t,r){var n=Math.ceil,i=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},{}],63:[function(e,t,r){var n=e("./$.iobject"),i=e("./$.defined");t.exports=function(e){return n(i(e))}},{"./$.defined":33,"./$.iobject":42}],64:[function(e,t,r){var n=e("./$.to-integer"),i=Math.min;t.exports=function(e){return e>0?i(n(e),9007199254740991):0}},{"./$.to-integer":62}],65:[function(e,t,r){var n=e("./$.defined");t.exports=function(e){return Object(n(e))}},{"./$.defined":33}],66:[function(e,t,r){var n=0,i=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},{}],67:[function(e,t,r){var n=e("./$.shared")("wks"),i=e("./$.uid"),u=e("./$.global").Symbol;t.exports=function(e){return n[e]||(n[e]=u&&u[e]||(u||i)("Symbol."+e))}},{"./$.global":39,"./$.shared":60,"./$.uid":66}],68:[function(e,t,r){var n=e("./$.classof"),i=e("./$.wks")("iterator"),u=e("./$.iterators");t.exports=e("./$.core").getIteratorMethod=function(e){return void 0!=e?e[i]||e["@@iterator"]||u[n(e)]:void 0}},{"./$.classof":29,"./$.core":31,"./$.iterators":51,"./$.wks":67}],69:[function(e,t,r){var n=e("./$.an-object"),i=e("./core.get-iterator-method");t.exports=e("./$.core").getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},{"./$.an-object":28,"./$.core":31,"./core.get-iterator-method":68}],70:[function(e,t,r){"use strict";var n=e("./$.ctx"),i=e("./$.export"),u=e("./$.to-object"),s=e("./$.iter-call"),o=e("./$.is-array-iter"),a=e("./$.to-length"),c=e("./core.get-iterator-method");i(i.S+i.F*!e("./$.iter-detect")(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,i,f,l=u(e),_="function"==typeof this?this:Array,h=arguments,g=h.length,b=g>1?h[1]:void 0,p=void 0!==b,d=0,v=c(l);if(p&&(b=n(b,g>2?h[2]:void 0,2)),void 0==v||_==Array&&o(v))for(t=a(l.length),r=new _(t);t>d;d++)r[d]=p?b(l[d],d):l[d];else for(f=v.call(l),r=new _;!(i=f.next()).done;d++)r[d]=p?s(f,b,[i.value,d],!0):i.value;return r.length=d,r}})},{"./$.ctx":32,"./$.export":36,"./$.is-array-iter":43,"./$.iter-call":46,"./$.iter-detect":49,"./$.to-length":64,"./$.to-object":65,"./core.get-iterator-method":68}],71:[function(e,t,r){"use strict";var n=e("./$.add-to-unscopables"),i=e("./$.iter-step"),u=e("./$.iterators"),s=e("./$.to-iobject");t.exports=e("./$.iter-define")(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,r):"values"==t?i(0,e[r]):i(0,[r,e[r]])},"values"),u.Arguments=u.Array,n("keys"),n("values"),n("entries")},{"./$.add-to-unscopables":27,"./$.iter-define":48,"./$.iter-step":50,"./$.iterators":51,"./$.to-iobject":63}],72:[function(e,t,r){var n=e("./$.to-iobject");e("./$.object-sap")("getOwnPropertyDescriptor",function(e){return function(t,r){return e(n(t),r)}})},{"./$.object-sap":55,"./$.to-iobject":63}],73:[function(e,t,r){var n=e("./$.to-object");e("./$.object-sap")("getPrototypeOf",function(e){return function(t){return e(n(t))}})},{"./$.object-sap":55,"./$.to-object":65}],74:[function(e,t,r){var n=e("./$.export");n(n.S,"Object",{setPrototypeOf:e("./$.set-proto").set})},{"./$.export":36,"./$.set-proto":58}],75:[function(e,t,r){},{}],76:[function(e,t,r){"use strict";var n=e("./$.string-at")(!0);e("./$.iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},{"./$.iter-define":48,"./$.string-at":61}],77:[function(e,t,r){"use strict";var n=e("./$"),i=e("./$.global"),u=e("./$.has"),s=e("./$.descriptors"),o=e("./$.export"),a=e("./$.redefine"),c=e("./$.fails"),f=e("./$.shared"),l=e("./$.set-to-string-tag"),_=e("./$.uid"),h=e("./$.wks"),g=e("./$.keyof"),b=e("./$.get-names"),p=e("./$.enum-keys"),d=e("./$.is-array"),v=e("./$.an-object"),m=e("./$.to-iobject"),y=e("./$.property-desc"),T=n.getDesc,k=n.setDesc,C=n.create,P=b.get,S=i.Symbol,w=i.JSON,M=w&&w.stringify,E=!1,$=h("_hidden"),j=n.isEnum,I=f("symbol-registry"),O=f("symbols"),R="function"==typeof S,D=Object.prototype,U=s&&c(function(){return 7!=C(k({},"a",{get:function(){return k(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=T(D,t);n&&delete D[t],k(e,t,r),n&&e!==D&&k(D,t,n)}:k,x=function(e){var t=O[e]=C(S.prototype);return t._k=e,s&&E&&U(D,e,{configurable:!0,set:function(t){u(this,$)&&u(this[$],e)&&(this[$][e]=!1),U(this,e,y(1,t))}}),t},A=function(e){return"symbol"==typeof e},F=function(e,t,r){return r&&u(O,t)?(r.enumerable?(u(e,$)&&e[$][t]&&(e[$][t]=!1),r=C(r,{enumerable:y(0,!1)})):(u(e,$)||k(e,$,y(1,{})),e[$][t]=!0),U(e,t,r)):k(e,t,r)},N=function(e,t){v(e);for(var r,n=p(t=m(t)),i=0,u=n.length;u>i;)F(e,r=n[i++],t[r]);return e},G=function(e,t){return void 0===t?C(e):N(C(e),t)},V=function(e){var t=j.call(this,e);return t||!u(this,e)||!u(O,e)||u(this,$)&&this[$][e]?t:!0},L=function(e,t){var r=T(e=m(e),t);return!r||!u(O,t)||u(e,$)&&e[$][t]||(r.enumerable=!0),r},B=function(e){for(var t,r=P(m(e)),n=[],i=0;r.length>i;)u(O,t=r[i++])||t==$||n.push(t);return n},z=function(e){for(var t,r=P(m(e)),n=[],i=0;r.length>i;)u(O,t=r[i++])&&n.push(O[t]);return n},Y=function(e){if(void 0!==e&&!A(e)){for(var t,r,n=[e],i=1,u=arguments;u.length>i;)n.push(u[i++]);return t=n[1],"function"==typeof t&&(r=t),!r&&d(t)||(t=function(e,t){return r&&(t=r.call(this,e,t)),A(t)?void 0:t}),n[1]=t,M.apply(w,n)}},K=c(function(){var e=S();return"[null]"!=M([e])||"{}"!=M({a:e})||"{}"!=M(Object(e))});R||(S=function(){if(A(this))throw TypeError("Symbol is not a constructor");return x(_(arguments.length>0?arguments[0]:void 0))},a(S.prototype,"toString",function(){return this._k}),A=function(e){return e instanceof S},n.create=G,n.isEnum=V,n.getDesc=L,n.setDesc=F,n.setDescs=N,n.getNames=b.get=B,n.getSymbols=z,s&&!e("./$.library")&&a(D,"propertyIsEnumerable",V,!0));var H={for:function(e){return u(I,e+="")?I[e]:I[e]=S(e)},keyFor:function(e){return g(I,e)},useSetter:function(){E=!0},useSimple:function(){E=!1}};n.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),function(e){var t=h(e);H[e]=R?t:x(t)}),E=!0,o(o.G+o.W,{Symbol:S}),o(o.S,"Symbol",H),o(o.S+o.F*!R,"Object",{create:G,defineProperty:F,defineProperties:N,getOwnPropertyDescriptor:L,getOwnPropertyNames:B,getOwnPropertySymbols:z}),w&&o(o.S+o.F*(!R||K),"JSON",{stringify:Y}),l(S,"Symbol"),l(Math,"Math",!0),l(i.JSON,"JSON",!0)},{"./$":52,"./$.an-object":28,"./$.descriptors":34,"./$.enum-keys":35,"./$.export":36,"./$.fails":37,"./$.get-names":38,"./$.global":39,"./$.has":40,"./$.is-array":44,"./$.keyof":53,"./$.library":54,"./$.property-desc":56,"./$.redefine":57,"./$.set-to-string-tag":59,"./$.shared":60,"./$.to-iobject":63,"./$.uid":66,"./$.wks":67}],78:[function(e,t,r){e("./es6.array.iterator");var n=e("./$.iterators");n.NodeList=n.HTMLCollection=n.Array},{"./$.iterators":51,"./es6.array.iterator":71}],79:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),u=n(i),s=e("babel-runtime/helpers/classCallCheck"),o=n(s),a=e("babel-runtime/helpers/createClass"),c=n(a),f=e("babel-runtime/helpers/possibleConstructorReturn"),l=n(f),_=e("babel-runtime/helpers/get"),h=n(_),g=e("babel-runtime/helpers/inherits"),b=n(g),p=e("./device"),d=n(p),v=function(e){function t(e){(0,o.default)(this,t);var r=(0,l.default)(this,(0,u.default)(t).call(this));if(r._const=r.constantList(),!e instanceof Uint8Array)throw new Error("Uint8Array expected");return r._code=e,r}return(0,b.default)(t,e),(0,c.default)(t,[{key:"name",value:function(){return"TinyBIOS"}},{key:"deviceType",value:function(){return d.default.Type.BIOS}},{key:"version",value:function(){return 0}},{key:"hasInterrupt",value:function(){return!1}},{key:"memorySize",value:function(){return 65536}},{key:"constantList",value:function(){return{BIOS_TYPE:0,BIOS_VERSION:1,BIOS_INTERRUPT:2,BIOS_NAME:3,BIOS_CODE:16}}},{key:"get",value:function(e){return 16>e?(0,h.default)((0,u.default)(t.prototype),"get",this).call(this,e):e>=16&&e<this._code.length+16?this._code[e-16]:0}},{key:"set",value:function(e,r){16>e&&(0,h.default)((0,u.default)(t.prototype),"set",this).call(this,e,r)}}]),t}(d.default);r.default=v},{"./device":83,"babel-runtime/core-js/object/get-prototype-of":6,"babel-runtime/helpers/classCallCheck":10,"babel-runtime/helpers/createClass":11,"babel-runtime/helpers/get":12,"babel-runtime/helpers/inherits":13,"babel-runtime/helpers/possibleConstructorReturn":14}],80:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,24,24,24,8,8,0,8,0],[0,20,20,0,0,0,0,0,0],[0,0,20,62,20,62,20,0,0],[0,8,30,48,28,6,60,8,0],[0,0,50,54,12,24,54,38,0],[0,24,52,60,24,58,54,28,0],[0,8,8,0,0,0,0,0,0],[0,12,24,24,24,24,24,12,0],[0,24,12,12,12,12,12,24,0],[0,0,20,8,62,8,20,0,0],[0,0,8,8,62,8,8,0,0],[0,0,0,0,0,0,12,8,0],[0,0,0,0,62,0,0,0,0],[0,0,0,0,0,0,12,12,0],[0,12,12,24,24,24,48,48,0],[0,28,50,50,58,50,50,28,0],[0,12,28,44,12,12,12,62,0],[0,28,54,6,4,8,16,62,0],[0,28,38,6,12,6,38,28,0],[0,12,28,44,44,62,12,12,0],[0,62,48,48,60,6,6,60,0],[0,28,50,48,60,50,50,28,0],[0,62,6,6,12,24,48,48,0],[0,28,50,50,28,50,50,28,0],[0,28,50,50,30,2,50,28,0],[0,0,0,12,0,12,0,0,0],[0,0,0,0,12,0,12,8,0],[0,6,12,24,48,24,12,6,0],[0,0,0,62,0,62,0,0,0],[0,48,24,12,6,12,24,48,0],[0,28,54,6,4,8,0,8,0],[0,28,50,50,54,54,48,30,0],[0,8,28,50,50,62,50,50,0],[0,60,50,50,62,50,50,60,0],[0,28,50,48,48,48,50,28,0],[0,60,50,50,50,50,50,60,0],[0,62,48,48,60,48,48,62,0],[0,62,48,48,60,48,48,48,0],[0,30,48,48,54,50,50,28,0],[0,50,50,50,62,50,50,50,0],[0,62,12,12,12,12,12,62,0],[0,30,6,6,6,6,38,28,0],[0,50,52,56,48,56,52,50,0],[0,48,48,48,48,48,48,62,0],[0,34,54,62,58,34,50,50,0],[0,50,58,62,62,54,50,50,0],[0,28,50,50,50,50,50,28,0],[0,60,50,50,60,48,48,48,0],[0,28,50,50,50,50,52,24,6],[0,60,50,50,60,56,52,50,0],[0,28,50,48,28,6,38,28,0],[0,62,24,24,24,24,24,24,0],[0,50,50,50,50,50,50,28,0],[0,50,50,50,28,28,8,8,0],[0,50,50,34,42,62,54,34,0],[0,50,50,28,28,28,50,50,0],[0,50,50,62,28,8,8,8,0],[0,62,2,6,12,24,48,62,0],[0,28,24,24,24,24,24,28,0],[0,48,48,24,24,24,12,12,0],[0,28,12,12,12,12,12,28,0],[0,0,0,8,28,50,0,0,0],[0,0,0,0,0,0,0,0,62],[0,24,8,0,0,0,0,0,0],[0,0,0,28,2,30,54,26,0],[0,48,48,60,50,50,50,60,0],[0,0,0,30,48,48,48,30,0],[0,2,2,30,50,50,50,30,0],[0,0,0,28,50,62,48,30,0],[0,12,26,24,60,24,24,24,0],[0,0,0,28,50,50,30,2,60],[0,48,48,60,50,50,50,50,0],[0,12,0,28,12,12,12,30,0],[0,6,0,6,6,6,6,38,28],[0,48,48,50,52,56,52,50,0],[0,28,12,12,12,12,12,62,0],[0,0,0,60,62,42,42,42,0],[0,0,0,60,50,50,50,50,0],[0,0,0,28,50,50,50,28,0],[0,0,0,60,50,50,60,48,48],[0,0,0,28,50,50,30,6,6],[0,0,0,28,50,48,48,48,0],[0,0,0,30,48,28,2,60,0],[0,24,24,60,24,24,26,12,0],[0,0,0,50,50,50,50,30,0],[0,0,0,50,50,54,28,8,0],[0,0,0,34,42,42,62,60,0],[0,0,0,34,20,8,20,34,0],[0,0,0,50,50,50,30,2,60],[0,0,0,62,6,28,48,62,0],[12,24,24,24,48,24,24,24,12],[0,8,8,8,8,8,8,8,0],[24,12,12,12,6,12,12,12,24],[0,0,0,0,10,30,20,0,0],[0,0,0,0,0,0,0,0,0]];r.default=n},{}],81:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),u=n(i),s=e("babel-runtime/helpers/classCallCheck"),o=n(s),a=e("babel-runtime/helpers/createClass"),c=n(a),f=e("babel-runtime/helpers/possibleConstructorReturn"),l=n(f),_=e("babel-runtime/helpers/get"),h=n(_),g=e("babel-runtime/helpers/inherits"),b=n(g),p=e("../src/device"),d=n(p),v=function(e){function t(e){(0,o.default)(this,t);var r=(0,l.default)(this,(0,u.default)(t).call(this));return r._mb=e,r.reset(),r._stepFunction=r.initStepFunctions(),r}return(0,b.default)(t,e),(0,c.default)(t,[{key:"reset",value:function(){(0,h.default)((0,u.default)(t.prototype),"reset",this).call(this),this._reg=new Uint32Array(16),this._interruptVector=new Uint32Array(256),this._syscallVector=new Uint32Array(256),this._interruptsPending=[],this.PC=this._mb.get32(this._mb.MB_CPU_INIT)}},{key:"name",value:function(){return"TinyCPU"}},{key:"hasInterrupt",value:function(){return!0}},{key:"pushInterrupt",value:function(e){this._interruptsPending.push(e)}},{key:"deviceType",value:function(){return d.default.Type.CPU}},{key:"version",value:function(){return 0}},{key:"constantList",value:function(){return{CPU_A:16,CPU_B:20,CPU_C:24,CPU_D:28,CPU_E:32,CPU_F:36,CPU_G:40,CPU_H:44,CPU_I:48,CPU_J:52,CPU_K:56,CPU_L:60,CPU_FP:64,CPU_SP:68,CPU_PC:72,CPU_FL:76,CPU_INTERRUPT_VECT:256,CPU_SYSCALL_VECT:1280}}},{key:"get",value:function(e){if(16>=e)return(0,h.default)((0,u.default)(t.prototype),"get",this).call(this,e);var r=void 0;if(79>=e?r=this._reg[Math.floor((e-16)/4)]:e>=256&&1280>e?r=this._interruptVector[Math.floor((e-256)/4)]:e>=1280&&2303>e&&(r=this._syscallVector[Math.floor((e-1280)/4)]),void 0!==r)switch(e%4){case 0:return 255&r;case 1:return r>>8&255;case 2:return r>>16&255;case 3:return r>>24&255}}},{key:"set",value:function(e,r){if(16>e)(0,h.default)((0,u.default)(t.prototype),"set",this).call(this,e,r);else{var n=void 0,i=void 0;if(e>=16&&79>=e?(n=Math.floor((e-16)/4),i=this._reg):e>=256&&1280>e?(n=Math.floor((e-256)/4),i=this._interruptVector):e>=1280&&2303>e&&(n=Math.floor((e-1280)/4),i=this._syscallVector),i)switch(e%4){case 0:i[n]&=-256,i[n]|=r;break;case 1:i[n]&=-65281,i[n]|=r<<8;break;case 2:i[n]&=-16711681,i[n]|=r<<16;break;case 3:i[n]&=16777215,i[n]|=r<<24}}}},{key:"step",value:function(){var e=this._stepFunction[this._mb.get(this.PC)](this.PC+1);e&&(this.PC+=e+1)}},{key:"checkInterrupts",value:function(){if(this.T&&this._interruptsPending.length>0){var e=this._interruptsPending.shift();this._push32(this.PC),this.T=!1,this.PC=this._interruptVector[e]}}},{key:"_affectFlags",value:function(e){return this.Z=0===(4294967295&e),this.P=e%2===0,this.S=!!(e>>31&1),this.V=!1,this.Y=!1,this.GT=!1,this.LT=!1,4294967295&e}},{key:"_push",value:function(e){this._mb.set(this.SP,e),this.SP-=1}},{key:"_push16",value:function(e){this.SP-=1,this._mb.set16(this.SP,e),this.SP-=1}},{key:"_push32",value:function(e){this.SP-=3,this._mb.set32(this.SP,e),this.SP-=1}},{key:"_pop",value:function(){return this.SP+=1,this._mb.get(this.SP)}},{key:"_pop16",value:function(){this.SP+=1;var e=this._mb.get16(this.SP);return this.SP+=1,e}},{key:"_pop32",value:function(){this.SP+=1;var e=this._mb.get32(this.SP);return this.SP+=3,e}},{key:"initStepFunctions",value:function(){for(var e=this,t=[],r=0;256>r;++r)t.push(function(t){return e.fireInterrupt(),0});return t[1]=function(t){var r=e._reg,n=e._mb,i=r[n.get(t+1)];return r[n.get(t)]=e._affectFlags(i),2},t[2]=function(t){var r=e._reg,n=e._mb,i=n.get(t+1);return r[n.get(t)]=e._affectFlags(i),2},t[3]=function(t){var r=e._reg,n=e._mb,i=n.get16(t+1);return r[n.get(t)]=e._affectFlags(i),3},t[4]=function(t){var r=e._reg,n=e._mb,i=n.get32(t+1);return r[n.get(t)]=e._affectFlags(i),5},t[5]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get(t+1),s=n.get(r[u]);return r[i]=e._affectFlags(s),2},t[6]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get32(t+1),s=n.get(u);return r[i]=e._affectFlags(s),5},t[11]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get(t+1),s=255&r[u];return n.set(r[i],e._affectFlags(s)),2},t[12]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get(t+1),s=u;return n.set(r[i],e._affectFlags(s)),2},t[13]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get(t+1),s=n.get(r[u]);return n.set(r[i],e._affectFlags(s)),2},t[14]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get32(t+1),s=n.get(u);return n.set(r[i],e._affectFlags(s)),5},t[33]=function(t){var r=e._reg,n=e._mb,i=n.get32(t),u=n.get(t+4),s=255&r[u];return n.set(i,e._affectFlags(s)),5},t[34]=function(t){var r=(e._reg,e._mb),n=r.get32(t),i=r.get(t+4),u=i;return r.set(n,e._affectFlags(u)),5},t[35]=function(t){var r=e._reg,n=e._mb,i=n.get32(t),u=n.get(t+4),s=n.get(r[u]);return n.set(i,e._affectFlags(s)),5},t[36]=function(t){var r=(e._reg,e._mb),n=r.get32(t),i=r.get32(t+4),u=r.get(r.get32(i));return r.set(n,e._affectFlags(u)),8},t[7]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get(t+1),s=n.get16(r[u]);return r[i]=e._affectFlags(s),2},t[8]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get32(t+1),s=n.get16(u);return r[i]=e._affectFlags(s),5},t[15]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get(t+1),s=65535&r[u];return n.set16(r[i],e._affectFlags(s)),2},t[26]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get16(t+1),s=u;return n.set16(r[i],e._affectFlags(s)),3},t[27]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get(t+1),s=n.get16(r[u]);return n.set16(r[i],e._affectFlags(s)),2},
t[28]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get32(t+1),s=n.get16(u);return n.set16(r[i],e._affectFlags(s)),5},t[37]=function(t){var r=e._reg,n=e._mb,i=n.get32(t),u=n.get(t+4),s=65535&r[u];return n.set16(i,e._affectFlags(s)),5},t[38]=function(t){var r=(e._reg,e._mb),n=r.get32(t),i=r.get16(t+4),u=i;return r.set16(n,e._affectFlags(u)),6},t[39]=function(t){var r=e._reg,n=e._mb,i=n.get32(t),u=n.get(t+4);return n.set16(i,n.get16(r[u])),5},t[40]=function(t){var r=(e._reg,e._mb),n=r.get32(t),i=r.get32(t+4);return r.set16(n,r.get16(r.get32(i))),8},t[9]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get(t+1),s=n.get32(r[u]);return r[i]=e._affectFlags(s),2},t[10]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get32(t+1),s=n.get32(u);return r[i]=e._affectFlags(s),5},t[29]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get(t+1),s=r[u];return n.set32(r[i],e._affectFlags(s)),2},t[30]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get32(t+1),s=u;return n.set32(r[i],e._affectFlags(s)),5},t[31]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get(t+1),s=n.get32(r[u]);return n.set32(r[i],e._affectFlags(s)),2},t[32]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get32(t+1),s=n.get32(u);return n.set32(r[i],e._affectFlags(s)),5},t[41]=function(t){var r=e._reg,n=e._mb,i=n.get32(t),u=n.get(t+4),s=r[u];return n.set32(i,e._affectFlags(s)),5},t[42]=function(t){var r=(e._reg,e._mb),n=r.get32(t),i=r.get32(t+4),u=i;return r.set32(n,e._affectFlags(u)),8},t[43]=function(t){var r=e._reg,n=e._mb,i=n.get32(t),u=n.get(t+4),s=n.get32(r[u]);return n.set32(i,e._affectFlags(s)),5},t[44]=function(t){var r=(e._reg,e._mb),n=r.get32(t),i=r.get32(t+4),u=r.get32(r.get32(i));return r.set32(n,e._affectFlags(u)),8},t[45]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get(t+1),s=r[i]|r[u];return r[i]=e._affectFlags(s),2},t[46]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get(t+1),s=r[i]|u;return r[i]=e._affectFlags(s),2},t[47]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get16(t+1),s=r[i]|u;return r[i]=e._affectFlags(s),3},t[48]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get32(t+1),s=r[i]|u;return r[i]=e._affectFlags(s),5},t[49]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get(t+1),s=r[i]^r[u];return r[i]=e._affectFlags(s),2},t[50]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get(t+1),s=r[i]^u;return r[i]=e._affectFlags(s),2},t[51]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get16(t+1),s=r[i]^u;return r[i]=e._affectFlags(s),3},t[52]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get32(t+1),s=r[i]^u;return r[i]=e._affectFlags(s),5},t[53]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get(t+1),s=r[i]&r[u];return r[i]=e._affectFlags(s),2},t[54]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get(t+1),s=r[i]&u;return r[i]=e._affectFlags(s),2},t[55]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get16(t+1),s=r[i]&u;return r[i]=e._affectFlags(s),3},t[56]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get32(t+1),s=r[i]&u;return r[i]=e._affectFlags(s),5},t[57]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get(t+1),s=r[i]<<r[u];return r[i]=e._affectFlags(s),e.Y=1==(r[i]>>31&1),2},t[58]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get(t+1),s=r[i]<<u;return r[i]=e._affectFlags(s),e.Y=1==(r[i]>>31&1),2},t[61]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get(t+1),s=r[i]>>r[u];return r[i]=e._affectFlags(s),e.Y=1==(1&r[i]),2},t[62]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get(t+1),s=r[i]>>u;return r[i]=e._affectFlags(s),e.Y=1==(1&r[i]),2},t[65]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=~r[i];return r[i]=e._affectFlags(u),1},t[66]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get(t+1),s=r[i]+r[u]+(e.Y?1:0);return r[i]=e._affectFlags(s),2},t[67]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get(t+1),s=r[i]+u+(e.Y?1:0);return r[i]=e._affectFlags(s),e.Y=s>4294967295,2},t[68]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get16(t+1),s=r[i]+u+(e.Y?1:0);return r[i]=e._affectFlags(s),e.Y=s>4294967295,3},t[69]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get32(t+1),s=r[i]+u+(e.Y?1:0);return r[i]=e._affectFlags(s),e.Y=s>4294967295,5},t[70]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get(t+1),s=r[i]-r[u]-(e.Y?1:0);return r[i]=e._affectFlags(s),e.Y=0>s,2},t[71]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get(t+1),s=r[i]-u-(e.Y?1:0);return r[i]=e._affectFlags(s),e.Y=0>s,2},t[72]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get16(t+1),s=r[i]-u-(e.Y?1:0);return r[i]=e._affectFlags(s),e.Y=0>s,3},t[73]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get32(t+1),s=r[i]-u-(e.Y?1:0);return r[i]=e._affectFlags(s),e.Y=0>s,5},t[74]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get(t+1);return e._affectFlags(r[i]-r[u],32),e.LT=r[i]<r[u],e.GT=r[i]>r[u],e.Y=r[i]-r[u]<0,2},t[75]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get(t+1);return e._affectFlags(r[i]-u,8),e.LT=r[i]<u,e.GT=r[i]>u,e.Y=r[i]-u<0,2},t[76]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get16(t+1);return e._affectFlags(r[i]-u,16),e.LT=r[i]<u,e.GT=r[i]>u,e.Y=r[i]-u<0,3},t[77]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get32(t+1);return e._affectFlags(r[i]-u,32),e.LT=r[i]<u,e.GT=r[i]>u,e.Y=r[i]-u<0,5},t[78]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get(t+1),s=r[i]*r[u];return r[i]=e._affectFlags(s),e.V=s>4294967295,2},t[79]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get(t+1),s=r[i]*u;return r[i]=e._affectFlags(s),e.V=s>4294967295,2},t[80]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get16(t+1),s=r[i]*u;return r[i]=e._affectFlags(s),e.V=s>4294967295,3},t[81]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get32(t+1),s=r[i]*u;return r[i]=e._affectFlags(s),e.V=s>4294967295,5},t[82]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get(t+1),s=Math.floor(r[i]/r[u]);return r[i]=e._affectFlags(s),2},t[83]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get(t+1),s=Math.floor(r[i]/u);return r[i]=e._affectFlags(s),2},t[84]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get16(t+1),s=Math.floor(r[i]/u);return r[i]=e._affectFlags(s),3},t[85]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get32(t+1),s=Math.floor(r[i]/u);return r[i]=e._affectFlags(s),5},t[86]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get(t+1),s=r[i]%r[u];return r[i]=e._affectFlags(s),2},t[87]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get(t+1),s=r[i]%u;return r[i]=e._affectFlags(s),2},t[88]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get16(t+1),s=r[i]%u;return r[i]=e._affectFlags(s),3},t[89]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=n.get32(t+1),s=r[i]%u;return r[i]=e._affectFlags(s),5},t[90]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=r[i]+1;return r[i]=e._affectFlags(u),e.Y=u>4294967295,1},t[91]=function(t){var r=e._reg,n=e._mb,i=n.get(t),u=r[i]-1;return r[i]=e._affectFlags(u),e.Y=0>u,1},t[92]=function(t){var r=e._reg,n=e._mb,i=n.get(t);return e.Z?(e.PC=r[i],0):1},t[93]=function(t){var r=(e._reg,e._mb),n=r.get32(t);return e.Z?(e.PC=n,0):4},t[94]=function(t){var r=e._reg,n=e._mb,i=n.get(t);return e.Z?1:(e.PC=r[i],0)},t[95]=function(t){var r=(e._reg,e._mb),n=r.get32(t);return e.Z?4:(e.PC=n,0)},t[96]=function(t){var r=e._reg,n=e._mb,i=n.get(t);return e.S?(e.PC=r[i],0):1},t[97]=function(t){var r=(e._reg,e._mb),n=r.get32(t);return e.S?(e.PC=n,0):4},t[98]=function(t){var r=e._reg,n=e._mb,i=n.get(t);return e.S?1:(e.PC=r[i],0)},t[99]=function(t){var r=(e._reg,e._mb),n=r.get32(t);return e.S?4:(e.PC=n,0)},t[100]=function(t){var r=e._reg,n=e._mb,i=n.get(t);return e.GT?(e.PC=r[i],0):1},t[101]=function(t){var r=(e._reg,e._mb),n=r.get32(t);return e.GT?(e.PC=n,0):4},t[102]=function(t){var r=e._reg,n=e._mb,i=n.get(t);return e.GT&&e.Z?(e.PC=r[i],0):1},t[103]=function(t){var r=(e._reg,e._mb),n=r.get32(t);return e.GT&&e.Z?(e.PC=n,0):4},t[104]=function(t){var r=e._reg,n=e._mb,i=n.get(t);return e.LT?(e.PC=r[i],0):1},t[105]=function(t){var r=(e._reg,e._mb),n=r.get32(t);return e.LT?(e.PC=n,0):4},t[106]=function(t){var r=e._reg,n=e._mb,i=n.get(t);return e.LT&&e.Z?(e.PC=r[i],0):1},t[107]=function(t){var r=(e._reg,e._mb),n=r.get32(t);return e.LT&&e.Z?(e.PC=n,0):4},t[108]=function(t){var r=e._reg,n=e._mb,i=n.get(t);return e.V?(e.PC=r[i],0):1},t[109]=function(t){var r=(e._reg,e._mb),n=r.get32(t);return e.V?(e.PC=n,0):4},t[110]=function(t){var r=e._reg,n=e._mb,i=n.get(t);return e.V?1:(e.PC=r[i],0)},t[111]=function(t){var r=(e._reg,e._mb),n=r.get32(t);return e.V?4:(e.PC=n,0)},t[112]=function(t){var r=(e._reg,e._mb,e._mb.get(t));return e.PC=e._reg[r],0},t[113]=function(t){var r=e._mb.get32(t);return e.PC=r,0},t[114]=function(t){var r=e._mb.get(t);return e._push32(e.PC+2),e.PC=e._reg[r],0},t[115]=function(t){var r=e._mb.get32(t);return e._push32(e.PC+5),e.PC=r,0},t[116]=function(t){return e.PC=e._pop32(),0},t[117]=function(t){var r=e._mb.get(t);return e._push32(e.PC+2),e.PC=e._syscallVector[255&e._reg[r]],0},t[118]=function(t){var r=e._mb.get(t);return e._push32(e.PC+2),e.PC=e._syscallVector[r],0},t[119]=function(t){return e.PC=e._pop32(),e.T=!0,0},t[134]=function(t){return e.PC=e._pop32(),0},t[120]=function(t){var r=e._mb.get(t);return e._push(255&e._reg[r]),1},t[121]=function(t){var r=e._mb.get(t);return e._push(r),1},t[122]=function(t){var r=e._mb.get(t);return e._push16(65535&e._reg[r]),1},t[123]=function(t){var r=e._mb.get16(t);return e._push16(r),2},t[124]=function(t){var r=e._mb.get(t);return e._push32(e._reg[r]),1},t[125]=function(t){var r=e._mb.get32(t);return e._push32(r),4},t[126]=function(t){for(var r=0;11>=r;++r)e._push32(e._reg[r]);return 0},t[127]=function(t){var r=e._mb.get(t);return e._reg[r]=e._pop(),1},t[128]=function(t){var r=e._mb.get(t);return e._reg[r]=e._pop16(),1},t[129]=function(t){var r=e._mb.get(t);return e._reg[r]=e._pop32(),1},t[130]=function(t){for(var r=11;r>=0;--r)e._reg[r]=e._pop32();return 0},t[131]=function(t){for(var r=e._mb.get(t),n=0;n<e._reg[r];++n)e._pop();return 1},t[132]=function(t){for(var r=e._mb.get(t),n=0;r>n;++n)e._pop();return 1},t[133]=function(t){for(var r=e._mb.get16(t),n=0;r>n;++n)e._pop();return 2},t[135]=function(e){return 0},t}},{key:"A",get:function(){return this._reg[0]},set:function(e){this._reg[0]=e}},{key:"B",get:function(){return this._reg[1]},set:function(e){this._reg[1]=e}},{key:"C",get:function(){return this._reg[2]},set:function(e){this._reg[2]=e}},{key:"D",get:function(){return this._reg[3]},set:function(e){this._reg[3]=e}},{key:"E",get:function(){return this._reg[4]},set:function(e){this._reg[4]=e}},{key:"F",get:function(){return this._reg[5]},set:function(e){this._reg[5]=e}},{key:"G",get:function(){return this._reg[6]},set:function(e){this._reg[6]=e}},{key:"H",get:function(){return this._reg[7]},set:function(e){this._reg[7]=e}},{key:"I",get:function(){return this._reg[8]},set:function(e){this._reg[8]=e}},{key:"J",get:function(){return this._reg[9]},set:function(e){this._reg[9]=e}},{key:"K",get:function(){return this._reg[10]},set:function(e){this._reg[10]=e}},{key:"L",get:function(){return this._reg[11]},set:function(e){this._reg[11]=e}},{key:"FP",get:function(){return this._reg[12]},set:function(e){this._reg[12]=e}},{key:"SP",get:function(){return this._reg[13]},set:function(e){this._reg[13]=4294967295&e}},{key:"PC",get:function(){return this._reg[14]},set:function(e){this._reg[14]=e}},{key:"FL",get:function(){return this._reg[15]},set:function(e){this._reg[15]=e}},{key:"Y",get:function(){return!!(1&this._reg[15])},set:function(e){e?this._reg[15]|=1:this._reg[15]&=-2}},{key:"V",get:function(){return!!(this._reg[15]>>1&1)},set:function(e){e?this._reg[15]|=2:this._reg[15]&=-3}},{key:"Z",get:function(){return!!(this._reg[15]>>2&1)},set:function(e){e?this._reg[15]|=4:this._reg[15]&=-5}},{key:"S",get:function(){return!!(this._reg[15]>>3&1)},set:function(e){e?this._reg[15]|=8:this._reg[15]&=-9}},{key:"GT",get:function(){return!!(this._reg[15]>>4&1)},set:function(e){e?this._reg[15]|=16:this._reg[15]&=-17}},{key:"LT",get:function(){return!!(this._reg[15]>>5&1)},set:function(e){e?this._reg[15]|=32:this._reg[15]&=-33}},{key:"P",get:function(){return!!(this._reg[15]>>6&1)},set:function(e){e?this._reg[15]|=64:this._reg[15]&=-65}},{key:"T",get:function(){return!!(this._reg[15]>>7&1)},set:function(e){e?this._reg[15]|=128:this._reg[15]&=-65}}]),t}(d.default);r.default=v},{"../src/device":83,"babel-runtime/core-js/object/get-prototype-of":6,"babel-runtime/helpers/classCallCheck":10,"babel-runtime/helpers/createClass":11,"babel-runtime/helpers/get":12,"babel-runtime/helpers/inherits":13,"babel-runtime/helpers/possibleConstructorReturn":14}],82:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return(Array(t||0).join("0")+e.toString(16)).substr(-t).toUpperCase()}Object.defineProperty(r,"__esModule",{value:!0});var u=e("babel-runtime/core-js/get-iterator"),s=n(u),o=e("babel-runtime/helpers/toArray"),a=n(o),c=e("babel-runtime/helpers/classCallCheck"),f=n(c),l=e("babel-runtime/helpers/createClass"),_=n(l),h=function(){function e(t){(0,f.default)(this,e),this._vm=t,this._const=this._loadConstants(),this._last=""}return(0,_.default)(e,[{key:"parse",value:function(e){var t=e.split(" "),r=(0,a.default)(t),n=r[0];r.slice(1);switch(""===n&&("s"!==this._last&&"n"!==this._last&&"l"!==this._last||(n=this._last)),this._last=n,n){case"?":case"h":return this._help();case"r":return this._registers();case"s":return this._step();default:return"syntax error (use [?] for help)"}}},{key:"welcome",value:function(){return"Welcome to TinyVM debugger. Type '?' for help.\n\n"+this._currentInstruction()}},{key:"_loadConstants",value:function(){var e={},t=!0,r=!1,n=void 0;try{for(var i,u=(0,s.default)(this._vm.mb.devices);!(t=(i=u.next()).done);t=!0){var o=i.value;for(var a in o.constantList())e[o[a]]=a}}catch(e){r=!0,n=e}finally{try{!t&&u.return&&u.return()}finally{if(r)throw n}}return e}},{key:"_help",value:function(){return"CPU:\n  [r] Registers\n  [s] step through\n  [n] step over\n  [c] continue execution\n  [s]/[u] set/unset breakpoint ([address=PC])\n  [l] disassemly ([address=PC])\n\nMemory:\n  [d] dump memory block     (address [size=0x100])\n  [e] enter memory data     (address value)\n  [f] fill memory with data (address size value)\n  [c] copy memory block     (origin destination size)\n  [p] search for pattern    (pattern [beginning [end]])\n  [v] virtual memory info\n\nOther:\n  [t] dump video text"}},{key:"_currentInstruction",value:function(){return":: PC 0x"+i(this._vm.cpu.PC,8)+" -> "+this.decode()[0]}},{key:"_registers",value:function(){var e=this._vm.cpu;return"A: "+i(e.A,8)+"    E: "+i(e.E,8)+"    I: "+i(e.I,8)+"    FP: "+i(e.FP,8)+"\nB: "+i(e.B,8)+"    F: "+i(e.F,8)+"    J: "+i(e.J,8)+"    SP: "+i(e.SP,8)+"\nC: "+i(e.C,8)+"    G: "+i(e.G,8)+"    K: "+i(e.K,8)+"    PC: "+i(e.PC,8)+"\nD: "+i(e.D,8)+"    H: "+i(e.H,8)+"    L: "+i(e.L,8)+"    FL: "+i(e.FL,8)+"\n\nFlags => Y:"+(e.Y?1:0)+"  V:"+(e.V?1:0)+"  Z:"+(e.Z?1:0)+"  S:"+(e.S?1:0)+"  GT:"+(e.GT?1:0)+"  LT:"+(e.LT?1:0)+"  P:"+(e.P?1:0)+"  T:"+(e.T?1:0)+"\n\n"+this._currentInstruction()}},{key:"_step",value:function(){return this._vm.step(),this._currentInstruction()}},{key:"decode",value:function(e){function t(e,t){return(Array(t||0).join("0")+e.toString(16)).substr(-t).toUpperCase()}function r(e){switch(e){case 0:return"A";case 1:return"B";case 2:return"C";case 3:return"D";case 4:return"E";case 5:return"F";case 6:return"G";case 7:return"H";case 8:return"I";case 9:return"J";case 10:return"K";case 11:return"L";case 12:return"FP";case 13:return"SP";case 14:return"PC";case 15:return"FL";default:return"?"}}function n(e){return"0x"+t(e[0],2)}function i(e){return"0x"+t(e[1],2)+t(e[0],2)}function u(e){var r=(e[3]<<24|e[2]<<16|e[1]<<8|e[0])>>>0;return r in s?s[r]:"0x"+t(e[3],2)+t(e[2],2)+t(e[1],2)+t(e[0],2)}void 0===e&&(e=this._vm.cpu.PC);var s=this._const,o={1:function(e){return["mov     "+r(e[0])+", "+r(e[1]),3]},2:function(e){return["mov     "+r(e[0])+", "+n(e[1]),3]},3:function(e){return["mov     "+r(e[0])+", "+i(e.slice(1,3)),4]},4:function(e){return["mov     "+r(e[0])+", "+u(e.slice(1,5)),6]},5:function(e){return["movb    "+r(e[0])+", ["+r(e[1])+"]",3]},6:function(e){return["movb    "+r(e[0])+", ["+u(e.slice(1,5))+"]",6]},7:function(e){return["movw    "+r(e[0])+", ["+r(e[1])+"]",3]},8:function(e){return["movw    "+r(e[0])+", ["+u(e.slice(1,5))+"]",6]},9:function(e){return["movd    "+r(e[0])+", ["+r(e[1])+"]",3]},10:function(e){return["movd    "+r(e[0])+", ["+u(e.slice(1,5))+"]",6]},11:function(e){return["movb    ["+r(e[0])+"], "+r(e[1]),3]},12:function(e){return["movb    ["+r(e[0])+"], "+n(e[1]),3]},13:function(e){return["movb    ["+r(e[0])+"], ["+r(e[1])+"]",3]},14:function(e){return["movb    ["+r(e[0])+"], ["+u(e.slice(1,5))+"]",6]},15:function(e){return["movw    ["+r(e[0])+"], "+r(e[1]),3]},26:function(e){return["movw    ["+r(e[0])+"], "+i(e.slice(1,3)),4]},27:function(e){return["movw    ["+r(e[0])+"], ["+r(e[1])+"]",3]},28:function(e){return["movw    ["+r(e[0])+"], ["+u(e.slice(1,5))+"]",6]},29:function(e){return["movd    ["+r(e[0])+"], "+r(e[1]),3]},30:function(e){return["movd    ["+r(e[0])+"], "+u(e.slice(1,5)),6]},31:function(e){return["movd    ["+r(e[0])+"], ["+r(e[1])+"]",3]},32:function(e){return["movd    ["+r(e[0])+"], ["+u(e.slice(1,5))+"]",6]},33:function(e){return["movb    ["+u(e.slice(0,4))+"], "+r(e[4]),6]},34:function(e){return["movb    ["+u(e.slice(0,4))+"], "+n(e[4]),6]},35:function(e){return["movb    ["+u(e.slice(0,4))+"], ["+r(e[4])+"]",6]},36:function(e){return["movb    ["+u(e.slice(0,4))+"], ["+u(e.slice(4,8))+"]",9]},37:function(e){return["movw    ["+u(e.slice(0,4))+"], "+r(e[4]),6]},38:function(e){return["movw    ["+u(e.slice(0,4))+"], "+i(e.slice(4,6)),7]},39:function(e){return["movw    ["+u(e.slice(0,4))+"], ["+r(e[4])+"]",6]},40:function(e){return["movw    ["+u(e.slice(0,4))+"], ["+u(e.slice(4,8))+"]",9]},41:function(e){return["movd    ["+u(e.slice(0,4))+"], "+r(e[4]),6]},42:function(e){return["movd    ["+u(e.slice(0,4))+"], "+u(e.slice(4,8)),9]},43:function(e){return["movd    ["+u(e.slice(0,4))+"], ["+r(e[4])+"]",6]},44:function(e){return["movd    ["+u(e.slice(0,4))+"], ["+u(e.slice(4,8))+"]",9]},45:function(e){return["or      "+r(e[0])+", "+r(e[1]),3]},46:function(e){return["or      "+r(e[0])+", "+n(e[1]),3]},47:function(e){return["or      "+r(e[0])+", "+i(e.slice(1,3)),4]},48:function(e){return["or      "+r(e[0])+", "+u(e.slice(1,5)),6]},49:function(e){return["xor     "+r(e[0])+", "+r(e[1]),3]},50:function(e){return["xor     "+r(e[0])+", "+n(e[1]),3]},51:function(e){return["xor     "+r(e[0])+", "+i(e.slice(1,3)),4]},52:function(e){return["xor     "+r(e[0])+", "+u(e.slice(1,5)),6]},53:function(e){return["and     "+r(e[0])+", "+r(e[1]),3]},54:function(e){return["and     "+r(e[0])+", "+n(e[1]),3]},55:function(e){return["and     "+r(e[0])+", "+i(e.slice(1,3)),4]},56:function(e){return["and     "+r(e[0])+", "+u(e.slice(1,5)),6]},57:function(e){return["shl     "+r(e[0])+", "+r(e[1]),3]},58:function(e){return["shl     "+r(e[0])+", "+n(e[1]),3]},59:function(e){return["shr     "+r(e[0])+", "+r(e[1]),3]},60:function(e){return["shr     "+r(e[0])+", "+n(e[1]),3]},61:function(e){return["not     "+r(e[0]),2]},66:function(e){return["add     "+r(e[0])+", "+r(e[1]),3]},67:function(e){return["add     "+r(e[0])+", "+n(e[1]),3]},68:function(e){return["add     "+r(e[0])+", "+i(e.slice(1,3)),4]},69:function(e){return["add     "+r(e[0])+", "+u(e.slice(1,5)),6]},70:function(e){return["sub     "+r(e[0])+", "+r(e[1]),3]},71:function(e){return["sub     "+r(e[0])+", "+n(e[1]),3]},72:function(e){return["sub     "+r(e[0])+", "+i(e.slice(1,3)),4]},73:function(e){return["sub     "+r(e[0])+", "+u(e.slice(1,5)),6]},74:function(e){return["cmp     "+r(e[0])+", "+r(e[1]),3]},75:function(e){return["cmp     "+r(e[0])+", "+n(e[1]),3]},76:function(e){return["cmp     "+r(e[0])+", "+i(e.slice(1,3)),4]},77:function(e){return["cmp     "+r(e[0])+", "+u(e.slice(1,5)),6]},78:function(e){return["mul     "+r(e[0])+", "+r(e[1]),3]},79:function(e){return["mul     "+r(e[0])+", "+n(e[1]),3]},80:function(e){return["mul     "+r(e[0])+", "+i(e.slice(1,3)),4]},81:function(e){return["mul     "+r(e[0])+", "+u(e.slice(1,5)),6]},82:function(e){return["idiv    "+r(e[0])+", "+r(e[1]),3]},83:function(e){return["idiv    "+r(e[0])+", "+n(e[1]),3]},84:function(e){return["idiv    "+r(e[0])+", "+i(e.slice(1,3)),4]},85:function(e){return["idiv    "+r(e[0])+", "+u(e.slice(1,5)),6]},86:function(e){return["mod     "+r(e[0])+", "+r(e[1]),3]},87:function(e){return["mod     "+r(e[0])+", "+n(e[1]),3]},88:function(e){return["mod     "+r(e[0])+", "+i(e.slice(1,3)),4]},89:function(e){return["mod     "+r(e[0])+", "+u(e.slice(1,5)),6]},90:function(e){return["inc     "+r(e[0]),2]},91:function(e){return["dec     "+r(e[0]),2]},92:function(e){return["bz      "+r(e[0]),2]},93:function(e){return["bz      "+u(e.slice(0,4)),5]},94:function(e){return["bnz     "+r(e[0]),2]},95:function(e){return["bnz     "+u(e.slice(0,4)),5]},96:function(e){return["bneg    "+r(e[0]),2]},97:function(e){return["bneg    "+u(e.slice(0,4)),5]},98:function(e){return["bpos    "+r(e[0]),2]},99:function(e){return["bpos    "+u(e.slice(0,4)),5]},100:function(e){return["bgt     "+r(e[0]),2]},101:function(e){return["bgt     "+u(e.slice(0,4)),5]},102:function(e){return["bgte    "+r(e[0]),2]},103:function(e){return["bgte    "+u(e.slice(0,4)),5]},104:function(e){return["blt     "+r(e[0]),2]},105:function(e){return["blt     "+u(e.slice(0,4)),5]},106:function(e){return["blte    "+r(e[0]),2]},107:function(e){return["blte    "+u(e.slice(0,4)),5]},108:function(e){return["bv      "+r(e[0]),2]},109:function(e){return["bv      "+u(e.slice(0,4)),5]},110:function(e){return["bnv     "+r(e[0]),2]},111:function(e){return["bnv     "+u(e.slice(0,4)),5]},112:function(e){return["jmp     "+r(e[0]),2]},113:function(e){return["jmp     "+u(e.slice(0,4)),5]},114:function(e){return["jsr     "+r(e[0]),2]},115:function(e){return["jsr     "+u(e.slice(0,4)),5]},116:function(e){return["ret",1]},117:function(e){return["sys     "+r(e[0]),2]},118:function(e){return["sys     "+n(e[0]),2]},119:function(e){return["iret",1]},134:function(e){return["sret",1]},120:function(e){return["pushb   "+r(e[0]),2]},121:function(e){return["pushb   "+n(e[0]),2]},122:function(e){return["pushw   "+r(e[0]),2]},123:function(e){return["pushw   "+i(e.slice(0,2)),3]},124:function(e){return["pushd   "+r(e[0]),2]},125:function(e){return["pushd   "+u(e.slice(0,4)),5]},126:function(e){return["push.a",1]},127:function(e){return["popb    "+r(e[0]),2]},128:function(e){return["popw    "+r(e[0]),2]},129:function(e){return["popd    "+r(e[0]),2]},130:function(e){return["pop.a",1]},131:function(e){return["popx    "+r(e[0]),2]},132:function(e){return["popx    "+n(e[0]),2]},133:function(e){return["popx    "+i(e.slice(0,2)),3]},135:function(e){return["nop",1]}},a=this._vm.mb.get(e),c=this._vm.mb.getArray(e+1,8);return a in o?o[a](c):["data    "+n([a]),1]}}],[{key:"encode",value:function(e){function t(e){switch(e){case"a":return 0;case"b":return 1;case"c":return 2;case"d":return 3;case"e":return 4;case"f":return 5;case"g":return 6;case"h":return 7;case"i":return 8;case"j":return 9;case"k":return 10;case"l":return 11;case"fp":return 12;case"sp":return 13;case"pc":return 14;case"fl":return 15;default:throw new Error("Invalid register "+e)}}var r=e.match(/^\s*([a-z\.]+)(?:\s+(\[?(?:[a-l]|fp|sp|pc|fl|0x[0-9a-f]+|[0-9]+)\]?))?(?:\s*,\s*(\[?(?:[a-l]|fp|sp|pc|fl|0x[0-9a-f]+|[0-9]+)\]?))?\s*$/i);if(!r)throw new Error("Invalid command `"+e+"`");for(var n={opcode:r[1],pars:[]},i=2;i<r.length;++i)if(void 0!=r[i]){var u=void 0,s=void 0,o=void 0,a=[];if("["===r[i][0]){if("]"!==r[i].slice(-1))throw new Error("Unbalanced bracket in "+r[i]);r[i][1].charCodeAt(0)>"9".charCodeAt(0)?(u="indirect register",s=t(r[i].slice(1,-1).toLowerCase()),o=8,a=[s]):(u="indirect value",s=parseInt(r[i].slice(1,-1)),o=32,a=[255&s,s>>8&255,s>>16&255,s>>24&255])}else r[i].charCodeAt(0)>"9".charCodeAt(0)?(u="register",s=t(r[i].toLowerCase()),o=8,a=[s]):(u="value",s=parseInt(r[i]),255>=s?(o=8,a=[s]):65535>=s?(o=16,a=[255&s,s>>8]):(o=32,a=[255&s,s>>8&255,s>>16&255,s>>24&255]));n.pars.push({type:u,value:s,size:o,valArray:a})}try{var c=n.pars[0].type,f=n.pars[0].value,l=n.pars[0].valArray,_=n.pars[0].size}catch(e){if(!(e instanceof TypeError))throw e;var c="none",f=0,l=[],_=0}try{var h=n.pars[1].type,g=n.pars[1].value,b=n.pars[1].valArray,p=n.pars[1].size}catch(e){if(!(e instanceof TypeError))throw e;var h="none",g=0,b=[],p=0}var d=null;switch(n.opcode){case"mov":if("register"===c&&"none"!==h){if("register"===h)d=1;else if("value"===h)switch(p){case 8:d=2;break;case 16:d=3;break;case 32:d=4}if(d)return[d,f].concat(b)}break;case"movb":if("register"===c)switch(h){case"indirect register":d=5;break;case"indirect value":d=6}else if("indirect register"===c)switch(h){case"register":d=11;break;case"value":8>=p&&(d=12);break;case"indirect register":d=13;break;case"indirect value":d=14}else if("indirect value"===c)switch(h){case"register":d=33;break;case"value":8>=p&&(d=34);break;case"indirect register":d=35;break;case"indirect value":d=36}if(d)return[d].concat(l).concat(b);break;case"movw":if("register"===c)switch(h){case"indirect register":d=7;break;case"indirect value":d=8}else if("indirect register"===c)switch(h){case"register":d=15;break;case"value":if(16>=p)return[26].concat(l).concat([255&g,g>>8]);break;case"indirect register":d=27;break;case"indirect value":d=28}else if("indirect value"===c)switch(h){case"register":d=37;break;case"value":if(16>=p)return[38].concat(l).concat([255&g,g>>8]);break;case"indirect register":d=39;break;case"indirect value":d=40}if(d)return[d].concat(l).concat(b);break;case"movd":if("register"===c)switch(h){case"indirect register":d=9;break;case"indirect value":d=10}else if("indirect register"===c)switch(h){case"register":d=29;break;case"value":return[30].concat(l).concat([255&g,g>>8&255,g>>16&255,g>>24&255]);case"indirect register":d=31;break;case"indirect value":d=32}else if("indirect value"===c)switch(h){case"register":d=41;break;case"value":return[42].concat(l).concat([255&g,g>>8&255,g>>16&255,g>>24&255]);case"indirect register":d=43;break;case"indirect value":d=44}if(d)return[d].concat(l).concat(b);break;case"or":if("register"===c){if("register"===h)return[45].concat(l).concat(b);if("value"===h&&8===p)return[46].concat(l).concat(b);if("value"===h&&16===p)return[47].concat(l).concat(b);if("value"===h&&32===p)return[48].concat(l).concat(b)}break;case"xor":if("register"===c){if("register"===h)return[49].concat(l).concat(b);if("value"===h&&8===p)return[50].concat(l).concat(b);if("value"===h&&16===p)return[51].concat(l).concat(b);if("value"===h&&32===p)return[52].concat(l).concat(b)}break;case"and":if("register"===c){if("register"===h)return[53].concat(l).concat(b);if("value"===h&&8===p)return[54].concat(l).concat(b);if("value"===h&&16===p)return[55].concat(l).concat(b);if("value"===h&&32===p)return[56].concat(l).concat(b)}break;case"shl":if("register"===c){if("register"===h)return[57].concat(l).concat(b);if("value"===h&&8===p)return[58].concat(l).concat(b)}break;case"shr":if("register"===c){if("register"===h)return[61].concat(l).concat(b);if("value"===h&&8===p)return[62].concat(l).concat(b)}break;case"not":if("register"===c&&"none"===h)return[65].concat(l);break;case"add":if("register"===c){if("register"===h)return[66].concat(l).concat(b);if("value"===h&&8===p)return[67].concat(l).concat(b);if("value"===h&&16===p)return[68].concat(l).concat(b);if("value"===h&&32===p)return[69].concat(l).concat(b)}break;case"sub":if("register"===c){if("register"===h)return[70].concat(l).concat(b);if("value"===h&&8===p)return[71].concat(l).concat(b);if("value"===h&&16===p)return[72].concat(l).concat(b);if("value"===h&&32===p)return[73].concat(l).concat(b)}break;case"cmp":if("register"===c){if("register"===h)return[74].concat(l).concat(b);if("value"===h&&8===p)return[75].concat(l).concat(b);if("value"===h&&16===p)return[76].concat(l).concat(b);if("value"===h&&32===p)return[77].concat(l).concat(b)}break;case"mul":if("register"===c){if("register"===h)return[78].concat(l).concat(b);if("value"===h&&8===p)return[79].concat(l).concat(b);if("value"===h&&16===p)return[80].concat(l).concat(b);if("value"===h&&32===p)return[81].concat(l).concat(b)}break;case"idiv":if("register"===c){if("register"===h)return[82].concat(l).concat(b);if("value"===h&&8===p)return[83].concat(l).concat(b);if("value"===h&&16===p)return[84].concat(l).concat(b);if("value"===h&&32===p)return[85].concat(l).concat(b)}break;case"mod":if("register"===c){if("register"===h)return[86].concat(l).concat(b);if("value"===h&&8===p)return[87].concat(l).concat(b);if("value"===h&&16===p)return[88].concat(l).concat(b);if("value"===h&&32===p)return[89].concat(l).concat(b)}break;case"inc":if("register"===c&&"none"===h)return[90].concat(l);break;case"dec":if("register"===c&&"none"===h)return[91].concat(l);break;case"bz":case"beq":if("register"===c&&"none"===h)return[92].concat(l);if("value"===c&&"none"===h)return[93,255&f,f>>8&255,f>>16&255,f>>24&255];break;case"bnz":case"bneq":if("register"===c&&"none"===h)return[94].concat(l);if("value"===c&&"none"===h)return[95,255&f,f>>8&255,f>>16&255,f>>24&255];break;case"bneg":if("register"===c&&"none"===h)return[96].concat(l);if("value"===c&&"none"===h)return[97,255&f,f>>8&255,f>>16&255,f>>24&255];break;case"bpos":if("register"===c&&"none"===h)return[98].concat(l);if("value"===c&&"none"===h)return[99,255&f,f>>8&255,f>>16&255,f>>24&255];break;case"bgt":if("register"===c&&"none"===h)return[100].concat(l);if("value"===c&&"none"===h)return[101,255&f,f>>8&255,f>>16&255,f>>24&255];break;case"bgte":if("register"===c&&"none"===h)return[102].concat(l);if("value"===c&&"none"===h)return[103,255&f,f>>8&255,f>>16&255,f>>24&255];break;case"blt":if("register"===c&&"none"===h)return[104].concat(l);if("value"===c&&"none"===h)return[105,255&f,f>>8&255,f>>16&255,f>>24&255];break;case"blte":if("register"===c&&"none"===h)return[106].concat(l);if("value"===c&&"none"===h)return[107,255&f,f>>8&255,f>>16&255,f>>24&255];break;case"bv":if("register"===c&&"none"===h)return[108].concat(l);if("value"===c&&"none"===h)return[109,255&f,f>>8&255,f>>16&255,f>>24&255];break;case"bnv":if("register"===c&&"none"===h)return[110].concat(l);if("value"===c&&"none"===h)return[111,255&f,f>>8&255,f>>16&255,f>>24&255];break;case"jmp":if("register"===c&&"none"===h)return[112].concat(l);if("value"===c&&"none"===h)return[113,255&f,f>>8&255,f>>16&255,f>>24&255];break;case"jsr":if("register"===c&&"none"===h)return[114].concat(l);if("value"===c&&"none"===h)return[115,255&f,f>>8&255,f>>16&255,f>>24&255];break;case"ret":if("none"===c&&"none"===h)return[116];break;case"sys":if("register"===c&&"none"===h)return[117].concat(l);if("value"===c&&8===_&&"none"===h)return[118,f];break;case"iret":if("none"===c&&"none"===h)return[119];break;case"sret":if("none"===c&&"none"===h)return[134];break;case"pushb":if("register"===c&&"none"===h)return[120].concat(l);if("value"===c&&8>=_&&"none"===h)return[121].concat(l);break;case"pushw":if("register"===c&&"none"===h)return[122].concat(l);if(c===value&&16>=_&&"none"===h)return[123].concat([255&f,f>>8]);break;case"pushd":if("register"===c&&"none"===h)return[124].concat(l);if("value"===c&&16>=_&&"none"===h)return[125].concat([255&f,f>>8&255,f>>16&255,f>>24&255]);break;case"push.a":if("none"===c&&"none"===h)return[126];break;case"popb":if("register"===c&&"none"===h)return[127].concat(l);break;case"popw":if("register"===c&&"none"===h)return[128].concat(l);break;case"popd":if("register"===c&&"none"===h)return[129].concat(l);break;case"pop.a":if("none"===c&&"none"===h)return[130];break;case"popx":if("register"===c&&"none"===h)return[131].concat(l);if("value"===c&&8>=_&&"none"===h)return[132].concat(l);if("value"===c&&16>=_&&"none"===h)return[133].concat(l);break;case"nop":if("none"===c&&"none"===h)return[135]}throw new Error("Invalid command '"+e+"'")}}]),e}();r.default=h},{"babel-runtime/core-js/get-iterator":2,"babel-runtime/helpers/classCallCheck":10,"babel-runtime/helpers/createClass":11,"babel-runtime/helpers/toArray":15}],83:[function(e,t,r){"use strict";function n(e){
return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),u=n(i),s=e("babel-runtime/helpers/classCallCheck"),o=n(s),a=e("babel-runtime/helpers/createClass"),c=n(a),f=e("babel-runtime/helpers/possibleConstructorReturn"),l=n(f),_=e("babel-runtime/helpers/inherits"),h=n(_),g=e("./lsbstorage"),b=n(g),p=function(e){function t(){(0,o.default)(this,t);var e=(0,l.default)(this,(0,u.default)(t).call(this));if(e.interruptNumber=0,e.mb=null,e.constructor===b.default)throw new TypeError("Abstact class cannot be instantiated.");if(e.name().length>13)throw new Error("Name must not be longer than 13 bytes");var r=!1;for(var n in t.Type)t.Type[n]===e.deviceType()&&(r=!0);if(!r)throw new Error('Invalid device type "'+e.deviceType()+'"');if(e.version()>255)throw new Error("Maximum version is 0xFF");if(e.memorySize()<4096)throw new Error("Memory must be at least 0x1000 bytes.");return e}return(0,h.default)(t,e),(0,c.default)(t,[{key:"initializeConstants",value:function(e){var t=this.constantList();for(var r in t)this[r]=t[r]+e}},{key:"name",value:function(){throw new Error("Implement this method")}},{key:"deviceType",value:function(){throw new Error("Implement this method")}},{key:"version",value:function(){throw new Error("Implement this method")}},{key:"memorySize",value:function(){return 4096}},{key:"hasInterrupt",value:function(){return!1}},{key:"constantList",value:function(){return{}}},{key:"fireInterrupt",value:function(){this.mb&&this.mb.pushInterrupt(this.interruptNumber)}},{key:"step",value:function(e){}},{key:"reset",value:function(){}},{key:"get",value:function(e){switch(e){case 0:return this.deviceType();case 1:return this.version();case 2:return this.interruptNumber}return e>=3&&15>=e?this.name().charCodeAt(e-3):0}},{key:"set",value:function(e){}}]),t}(b.default);r.default=p,p.Type={MOTHERBOARD:0,MMU:1,CPU:2,STORAGE:3,KEYBOARD:4,TIMER:5,BIOS:6,VIDEO:7,OTHER_INPUT:128,OTHER_OUTPUT:129,RAM:253,MOTHERBOARD:254,UNUSED:255}},{"./lsbstorage":86,"babel-runtime/core-js/object/get-prototype-of":6,"babel-runtime/helpers/classCallCheck":10,"babel-runtime/helpers/createClass":11,"babel-runtime/helpers/inherits":13,"babel-runtime/helpers/possibleConstructorReturn":14}],84:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var i=e("./tinyvm"),u=n(i),s=e("./debugger"),o=n(s);"undefined"!=typeof window&&(window.TinyVM=u.default,window.Debugger=o.default)},{"./debugger":82,"./tinyvm":92}],85:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/helpers/typeof"),u=n(i),s=e("babel-runtime/core-js/object/get-prototype-of"),o=n(s),a=e("babel-runtime/helpers/classCallCheck"),c=n(a),f=e("babel-runtime/helpers/createClass"),l=n(f),_=e("babel-runtime/helpers/possibleConstructorReturn"),h=n(_),g=e("babel-runtime/helpers/get"),b=n(g),p=e("babel-runtime/helpers/inherits"),d=n(p),v=e("./device"),m=n(v),y=function(e){function t(){(0,c.default)(this,t);var e=(0,h.default)(this,(0,o.default)(t).call(this));return e.KBD_MODE_POLL=0,e.KBD_MODE_INTERRUPT=1,e.KBD_OP_POP=1,e._const=e.constantList(),e._queue=[],e._mode=e.KBD_MODE_POLL,e}return(0,d.default)(t,e),(0,l.default)(t,[{key:"name",value:function(){return"TinyKeyboard"}},{key:"deviceType",value:function(){return m.default.Type.KEYBOARD}},{key:"version",value:function(){return 0}},{key:"hasInterrupt",value:function(){return!0}},{key:"constantList",value:function(){return{KBD_TYPE:0,KBD_VERSION:1,KBD_INTERRUPT:2,KDB_NAME:3,KBD_MODE:16,KBD_QUEUE_FULL:17,KBD_DEQUEUE:18,KBD_FRONT:20}}},{key:"addEvent",value:function(e){if("object"!==("undefined"==typeof e?"undefined":(0,u.default)(e)))throw new Error("Hash expected");if(void 0===e.event||void 0===e.shift||void 0===e.control||void 0===e.alt||void 0===e.key)throw new Error("Expected format: { event, shift, control, alt, key }");if("press"!==e.event&&"release"!==e.event)throw new Error("Event must be one of press/release");this._queue.length<t.QUEUE_SIZE&&(this._queue.push(("release"===e.event?1:0)<<31|(e.shift?1:0)<<30|(e.control?1:0)<<29|(e.alt?1:0)<<28|16777215&e.key),this._mode==this.KBD_MODE_INTERRUPT&&this.fireInterrupt())}},{key:"get",value:function(e){if(16>e)return(0,b.default)((0,o.default)(t.prototype),"get",this).call(this,e);if(e===this._const.KBD_MODE)return this._mode;if(e===this._const.KBD_QUEUE_FULL)return this._queue.length===t.QUEUE_SIZE?1:0;if(e===this._const.KBD_DEQUEUE)this._queue.shift();else if(e>=this._const.KBD_FRONT||e<this._const.KBD_FRONT+4){var r=0===this._queue.length?0:this._queue[0];switch(e%4){case 0:return 255&r;case 1:return r>>8&255;case 2:return r>>16&255;case 3:return r>>24&255}}return 0}},{key:"set",value:function(e,r){16>e?(0,b.default)((0,o.default)(t.prototype),"set",this).call(this,e,r):e===this._const.KBD_MODE&&(this._mode=r)}},{key:"queue",get:function(){return this._queue.slice()}}]),t}(m.default);r.default=y,y.QUEUE_SIZE=16},{"./device":83,"babel-runtime/core-js/object/get-prototype-of":6,"babel-runtime/helpers/classCallCheck":10,"babel-runtime/helpers/createClass":11,"babel-runtime/helpers/get":12,"babel-runtime/helpers/inherits":13,"babel-runtime/helpers/possibleConstructorReturn":14,"babel-runtime/helpers/typeof":16}],86:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/helpers/classCallCheck"),u=n(i),s=e("babel-runtime/helpers/createClass"),o=n(s),a=function(){function e(){if((0,u.default)(this,e),this.constructor===e)throw new TypeError("Abstact class cannot be instantiated.")}return(0,o.default)(e,[{key:"get16",value:function(e){return this.get(e+1)<<8|this.get(e)}},{key:"set16",value:function(e,t){this.set(e,255&t),this.set(e+1,t>>8&255)}},{key:"get32",value:function(e){var t=this.get(e+3)<<24|this.get(e+2)<<16|this.get(e+1)<<8|this.get(e);return t>>>0}},{key:"set32",value:function(e,t){this.set(e,255&t),this.set(e+1,t>>>8&255),this.set(e+2,t>>>16&255),this.set(e+3,t>>>24)}},{key:"getString",value:function(e,t){for(var r=[],n=0;t>n;++n)r.push(String.fromCharCode(this.get(e+n)));return r.join("")}},{key:"setString",value:function(e,t){for(var r=0;r<t.length;++r)this.set(e+r,t.charCodeAt(r))}},{key:"getArray",value:function(e,t){for(var r=[],n=e;e+t>n;++n)r.push(this.get(n));return r}},{key:"setArray",value:function(e,t){for(var r=0;r<t.length;++r)this.set(r+e,t[r])}}]),e}();r.default=a},{"babel-runtime/helpers/classCallCheck":10,"babel-runtime/helpers/createClass":11}],87:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),u=n(i),s=e("babel-runtime/helpers/classCallCheck"),o=n(s),a=e("babel-runtime/helpers/createClass"),c=n(a),f=e("babel-runtime/helpers/possibleConstructorReturn"),l=n(f),_=e("babel-runtime/helpers/get"),h=n(_),g=e("babel-runtime/helpers/inherits"),b=n(g),p=e("../src/device"),d=n(p),v=function(e){function t(e){(0,o.default)(this,t);var r=(0,l.default)(this,(0,u.default)(t).call(this));return r._ram=e,r.reset(),r.MMU_ERR_NONE=0,r.MMU_ERR_OUT_OF_BOUNDS=1,r.MMU_PAGE_FAULT=2,r}return(0,b.default)(t,e),(0,c.default)(t,[{key:"reset",value:function(){this._active=!1,this._lastError=0,this._vmem={active:!1,page:0}}},{key:"name",value:function(){return"TinyMMU"}},{key:"deviceType",value:function(){return d.default.Type.MMU}},{key:"version",value:function(){return 0}},{key:"hasInterrupt",value:function(){return!0}},{key:"constantList",value:function(){return{MMU_TYPE:0,MMU_VERSION:1,MMU_INTERRUPT:2,MMU_NAME:3,MMU_RAM_SZ:16,MMU_VMEM:20,MMU_ERR:24}}},{key:"translate",value:function(e){if(this._vmem.active){var t=4095&e,r=e>>12&1023,n=e>>22&1023,i=4096*this._vmem.page+4*n,u=this._ram.get32(i),s={page:65535&u,active:!!(u>>31)};if(!s.active){var o=new Error;throw o.name="page fault",o}var a=4096*s.page+4*r,c=this._ram.get32(a),f={page:65535&c,active:!!(c>>31)};if(!f.active){var o=new Error;throw o.name="page fault",o}var l=4096*f.page+t;return l}return e}},{key:"get",value:function(e){switch(e){case 16:return 255&this._ram.size;case 17:return this._ram.size>>8&255;case 18:return this._ram.size>>16&255;case 19:return this._ram.size>>24&255;case 20:return 255&this._vmem.page;case 21:return this._vmem.page>>8&255;case 22:return 0;case 23:return this._vmem.active?128:0;case 24:return 255&this._lastError;case 25:return this._lastError>>8&255;case 26:return this._lastError>>16&255;case 27:return this._lastError>>24&255;default:return(0,h.default)((0,u.default)(t.prototype),"get",this).call(this,e)}}},{key:"set",value:function(e,r){switch(e){case 20:this._vmem.page&=-256,this._vmem.page|=255&r;break;case 21:this._vmem.page&=-65281,this._vmem.page|=r<<8&127;break;case 23:this._vmem.active=!!(r>>7);break;case 24:this._lastError&=-256,this._lastError|=255&r;break;case 25:this._lastError&=-65281,this._lastError|=r<<8;break;case 26:this._lastError&=-16711681,this._lastError|=r<<16;break;case 27:this._lastError&=16777215,this._lastError|=r<<24;break;default:(0,h.default)((0,u.default)(t.prototype),"set",this).call(this,e,r)}}},{key:"getMemory",value:function(e){try{return this._ram.get(this.translate(e))}catch(e){if("out of bounds"!==e.name)throw e;this.fireInterrupt(this.MMU_ERR_OUT_OF_BOUNDS)}}},{key:"setMemory",value:function(e,t){try{this._ram.set(this.translate(e),t)}catch(e){if("out of bounds"!==e.name)throw e;this.fireInterrupt(this.MMU_ERR_OUT_OF_BOUNDS)}}},{key:"fireInterrupt",value:function(e){this._lastError|=e,(0,h.default)((0,u.default)(t.prototype),"fireInterrupt",this).call(this)}},{key:"active",get:function(){return this._vmem.active}}]),t}(d.default);r.default=v},{"../src/device":83,"babel-runtime/core-js/object/get-prototype-of":6,"babel-runtime/helpers/classCallCheck":10,"babel-runtime/helpers/createClass":11,"babel-runtime/helpers/get":12,"babel-runtime/helpers/inherits":13,"babel-runtime/helpers/possibleConstructorReturn":14}],88:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/get-iterator"),u=n(i),s=e("babel-runtime/core-js/object/get-prototype-of"),o=n(s),a=e("babel-runtime/helpers/classCallCheck"),c=n(a),f=e("babel-runtime/helpers/createClass"),l=n(f),_=e("babel-runtime/helpers/possibleConstructorReturn"),h=n(_),g=e("babel-runtime/helpers/inherits"),b=n(g),p=e("./lsbstorage"),d=n(p),v=e("./device"),m=n(v),y=e("./ram"),T=n(y),k=e("./mmu"),C=(n(k),e("./cpu")),P=(n(C),function(e){function t(){(0,c.default)(this,t);var e=(0,h.default)(this,(0,o.default)(t).call(this));return e._devices=[],e._addr=4026535936,e._interruptCount=1,e._mmu=null,e._cpu=null,e._memory=new T.default(4),e._initialAddress=0,e.MB_DEV_ADDR=4026531840,e.MB_ERR=4026532864,e.MB_CPU_INIT=4294967293,e.MB_ERR_NONE=0,e.MB_ERR_UNAUTH_READ=1,e.MB_ERR_UNAUTH_WRITE=2,e}return(0,b.default)(t,e),(0,l.default)(t,[{key:"reset",value:function(){this._memory.reset();var e=!0,t=!1,r=void 0;try{for(var n,i=(0,u.default)(this.devices);!(e=(n=i.next()).done);e=!0){var s=n.value;s.reset()}}catch(e){t=!0,r=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw r}}}},{key:"addDevice",value:function(e){this._devices.push(e),e.initializeConstants(this._addr),e.addr=this._addr,e.mb=this,this._memory.set32(4*(this._devices.length-1),this._addr),this._addr+=e.memorySize(),e.hasInterrupt()&&(e.interruptNumber=++this._interruptCount),e.deviceType()===m.default.Type.MMU?this._mmu=e:e.deviceType()===m.default.Type.CPU?this._cpu=e:e.deviceType()===m.default.Type.BIOS&&(this._cpu.PC=e.BIOS_CODE)}},{key:"step",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,i=(0,u.default)(this._devices);!(e=(n=i.next()).done);e=!0){var s=n.value;s.step()}}catch(e){t=!0,r=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw r}}this._cpu&&this._cpu.checkInterrupts()}},{key:"get",value:function(e){if(4026531840>e&&this._mmu)return this._mmu.getMemory(e);if(e>=4026531840&&4026535936>e)return this._memory.get(e-4026531840);if(e>=4294967292)return 255&this._initialAddress;if(e>=4294967293)return this._initialAddress>>8&255;if(e>=4294967294)return this._initialAddress>>16&255;if(e>=4294967295)return this._initialAddress>>24&255;var t=!0,r=!1,n=void 0;try{for(var i,s=(0,u.default)(this._devices);!(t=(i=s.next()).done);t=!0){var o=i.value;if(e>=o.addr&&e<o.addr+o.memorySize())return o.get(e-o.addr)}}catch(e){r=!0,n=e}finally{try{!t&&s.return&&s.return()}finally{if(r)throw n}}return this._memory.set(1024,this.MB_ERR_UNAUTH_READ),this.pushInterrupt(1),0}},{key:"set",value:function(e,t){if(4026531840>e&&this._mmu)this._mmu.setMemory(e,t);else if(4026532864==e)this._memory[1024]=t;else if(e>=4026531840&&4026535936>e)this._memory.set(1024,this.MB_ERR_UNAUTH_WRITE),this.pushInterrupt(1);else{var r=!0,n=!1,i=void 0;try{for(var s,o=(0,u.default)(this._devices);!(r=(s=o.next()).done);r=!0){var a=s.value;if(e>=a.addr&&e<a.addr+a.memorySize())return void a.set(e-a.addr,t)}}catch(e){n=!0,i=e}finally{try{!r&&o.return&&o.return()}finally{if(n)throw i}}this._memory.set(1024,this.MB_ERR_UNAUTH_WRITE),this.pushInterrupt(1)}}},{key:"pushInterrupt",value:function(e){this._cpu&&this._cpu.pushInterrupt(e)}},{key:"memoryMap",value:function(){var e=[];this._mmu&&e.push({addr:0,deviceType:m.default.Type.RAM,size:this._mmu.active()?4026531840:this._mmu.ramSize()}),this._mmu.ramSize()<4026531840&&!this._mmu.active()&&e.push({addr:this._mmu.ramSize(),deviceType:m.default.Type.UNUSED,size:4026531840-this._mmu.ramSize()}),e.push({addr:4026531840,deviceType:m.default.Type.MOTHERBOARD,size:4096});var t=4026535936,r=!0,n=!1,i=void 0;try{for(var s,o=(0,u.default)(this._devices);!(r=(s=o.next()).done);r=!0){var a=s.value;e.push({addr:t,deviceType:a.deviceType(),size:a.memorySize()}),t+=a.memorySize()}}catch(e){n=!0,i=e}finally{try{!r&&o.return&&o.return()}finally{if(n)throw i}}return e.push({addr:t,deviceType:m.default.Type.UNUSED,size:4294967296-t}),e}},{key:"devices",get:function(){return this._devices.slice(0)}}]),t}(d.default));r.default=P},{"./cpu":81,"./device":83,"./lsbstorage":86,"./mmu":87,"./ram":89,"babel-runtime/core-js/get-iterator":2,"babel-runtime/core-js/object/get-prototype-of":6,"babel-runtime/helpers/classCallCheck":10,"babel-runtime/helpers/createClass":11,"babel-runtime/helpers/inherits":13,"babel-runtime/helpers/possibleConstructorReturn":14}],89:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),u=n(i),s=e("babel-runtime/helpers/classCallCheck"),o=n(s),a=e("babel-runtime/helpers/createClass"),c=n(a),f=e("babel-runtime/helpers/possibleConstructorReturn"),l=n(f),_=e("babel-runtime/helpers/inherits"),h=n(_),g=e("./lsbstorage"),b=n(g),p=function(e){function t(e){(0,o.default)(this,t);var r=(0,l.default)(this,(0,u.default)(t).call(this));return r._size=1024*e,r.reset(),r}return(0,h.default)(t,e),(0,c.default)(t,[{key:"reset",value:function(){this._data=new Uint8Array(this._size)}},{key:"get",value:function(e){if(0>e||e>=this._size){var t=new Error;throw t.name="out of bounds",t}return this._data[e]}},{key:"set",value:function(e,t){if(0>e||e>=this._size){var r=new Error;throw r.name="out of bounds",r}if(0>t||t>255){var r=new Error;throw r.name="invalid data ("+t+")",r}this._data[e]=t}},{key:"size",get:function(){return this._size}}]),t}(b.default);r.default=p},{"./lsbstorage":86,"babel-runtime/core-js/object/get-prototype-of":6,"babel-runtime/helpers/classCallCheck":10,"babel-runtime/helpers/createClass":11,"babel-runtime/helpers/inherits":13,"babel-runtime/helpers/possibleConstructorReturn":14}],90:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/get-iterator"),u=n(i),s=e("babel-runtime/core-js/object/get-prototype-of"),o=n(s),a=e("babel-runtime/helpers/classCallCheck"),c=n(a),f=e("babel-runtime/helpers/createClass"),l=n(f),_=e("babel-runtime/helpers/possibleConstructorReturn"),h=n(_),g=e("babel-runtime/helpers/get"),b=n(g),p=e("babel-runtime/helpers/inherits"),d=n(p),v=e("./device"),m=n(v),y=function(e){function t(e){(0,c.default)(this,t);var r=(0,h.default)(this,(0,o.default)(t).call(this));if(void 0===e||e.constructor!==Array)throw new Error("`units` must be an array.");if(e.length>4)throw new Error("Maximum of 4 units");var n=!0,i=!1,s=void 0;try{for(var a,f=(0,u.default)(e);!(n=(a=f.next()).done);n=!0){var l=a.value;if(!l.get||!l.set||!l.size)throw new Error("Missing method in unit")}}catch(e){i=!0,s=e}finally{try{!n&&f.return&&f.return()}finally{if(i)throw s}}return r.STG_OP_READ=1,r.STG_OP_WRITE=2,r.STG_OP_SIZE=3,r.STG_MODE_POLL=0,r.STG_MODE_INTERRUPT=1,r.STG_STATUS_OK=0,r.STG_STATUS_WAITING=1,r.STG_STATUS_ADDRESS_ERROR=2,r.STG_STATUS_UNAVALIABLE=3,r.STG_STATUS_PHYSICAL_ERROR=4,r._units=e,r._const=r.constantList(),r._mode=r.STG_MODE_POLL,r._status=r.STG_STATUS_OK,r._p=new Uint32Array(8),r._r=new Uint32Array(2),r}return(0,d.default)(t,e),(0,l.default)(t,[{key:"name",value:function(){return"TinyStorage"}},{key:"deviceType",value:function(){return m.default.Type.STORAGE}},{key:"version",value:function(){return 0}},{key:"hasInterrupt",value:function(){return!0}},{key:"constantList",value:function(){return{STG_TYPE:0,STG_VERSION:1,STG_INTERRUPT:2,STG_NAME:3,STG_MODE:16,STG_OP_STATUS:17,STG_UNIT_LIST:18,STG_OP:19,STG_P0:20,STG_P1:24,STG_P2:28,STG_P3:32,STG_P4:36,STG_P5:40,STG_P6:44,STG_P7:48,STG_R0:52,STG_R1:56}}},{key:"get",value:function(e){if(16>e)return(0,b.default)((0,o.default)(t.prototype),"get",this).call(this,e);if(e==this._const.STG_MODE)return this._mode;if(e==this._const.STG_OP_STATUS)return this._status;if(e==this._const.STG_UNIT_LIST){var r=0;for(var n in this._units)r<<=1,r|=1;return r}var i=void 0;if(e>=this._const.STG_P0&&e<this._const.STG_P0+32?i=this._p[Math.floor((e-this._const.STG_P0)/4)]:e>=this._const.STG_R0&&e<this._const.STG_R0+8&&(i=this._r[Math.floor((e-this._const.STG_R0)/4)]),void 0!==i)switch(e%4){case 0:return 255&i;case 1:return i>>8&255;case 2:return i>>16&255;case 3:return i>>24&255}return 0}},{key:"set",value:function(e,r){if(16>e)(0,b.default)((0,o.default)(t.prototype),"set",this).call(this,e,r);else if(e==this._const.STG_MODE)this._mode=0==e?this.STG_MODE_POLL:this.STG_MODE_INTERRUPT;else if(e==this._const.STG_OP)this._r=this._execute(r);else{var n=void 0,i=void 0;if(e>=this._const.STG_P0&&e<this._const.STG_P0+32&&(n=Math.floor((e-this._const.STG_P0)/4),i=this._p),i)switch(e%4){case 0:i[n]&=-256,i[n]|=r;break;case 1:i[n]&=-65281,i[n]|=r<<8;break;case 2:i[n]&=-16711681,i[n]|=r<<16;break;case 3:i[n]&=16777215,i[n]|=r<<24}}}},{key:"fireInterrupt",value:function(e){this._status=e,this._mode==this.STG_MODE_INTERRUPT&&(0,b.default)((0,o.default)(t.prototype),"fireInterrupt",this).call(this)}},{key:"_execute",value:function(e){if((e===this.STG_OP_READ||e===this.STG_OP_WRITE||e===this.STG_OP_SIZE)&&this._p[0]>=this._units.length)return this.fireInterrupt(this.STG_STATUS_UNAVALIABLE),[0,0];if(e===this.STG_OP_SIZE){var t=this._units[this._p[0]].size,r=Math.floor(t/Math.pow(2,32)),n=4294967295&t;return[n,r]}if(e===this.STG_OP_READ){var i=this._units[this._p[0]],u=(this._p[1]|Math.floor(this._p[2]*Math.pow(2,32)))>>>0,s=this._p[3],o=this._p[4];if(u+o>i.size)return this.fireInterrupt(this.STG_STATUS_ADDRESS_ERROR),[0,0];for(var a=0;o>a;++a)this.mb.set(s+a,i.get(u+a));this.fireInterrupt(this.STG_STATUS_OK)}else if(e===this.STG_OP_WRITE){var i=this._units[this._p[0]],s=this._p[1],u=(this._p[2]|Math.floor(this._p[3]*Math.pow(2,32)))>>>0,o=this._p[4];if(u+o>i.size)return this.fireInterrupt(this.STG_STATUS_ADDRESS_ERROR),[0,0];for(var a=0;o>a;++a)i.set(u+a,this.mb.get(s+a));this.fireInterrupt(this.STG_STATUS_OK)}return[0,0]}}]),t}(m.default);r.default=y},{"./device":83,"babel-runtime/core-js/get-iterator":2,"babel-runtime/core-js/object/get-prototype-of":6,"babel-runtime/helpers/classCallCheck":10,"babel-runtime/helpers/createClass":11,"babel-runtime/helpers/get":12,"babel-runtime/helpers/inherits":13,"babel-runtime/helpers/possibleConstructorReturn":14}],91:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),u=n(i),s=e("babel-runtime/helpers/classCallCheck"),o=n(s),a=e("babel-runtime/helpers/createClass"),c=n(a),f=e("babel-runtime/helpers/possibleConstructorReturn"),l=n(f),_=e("babel-runtime/helpers/get"),h=n(_),g=e("babel-runtime/helpers/inherits"),b=n(g),p=e("./device"),d=n(p),v=function(e){function t(){(0,o.default)(this,t);var e=(0,l.default)(this,(0,u.default)(t).call(this));return e._const=e.constantList(),e._dateDiff=new Date(2016,1,1).valueOf(),e._currentTime=Date.now()-e._dateDiff,e._timers=new Uint32Array(10),e._counters=new Uint32Array(10),e._lastStep=Date.now(),e._interruptCalled=0,e}return(0,b.default)(t,e),(0,c.default)(t,[{key:"name",value:function(){return"TinyTimer"}},{key:"deviceType",value:function(){return d.default.Type.TIMER}},{key:"version",value:function(){return 0}},{key:"hasInterrupt",value:function(){return!0}},{key:"constantList",value:function(){return{TM_TYPE:0,TM_VERSION:1,TM_INTERRUPT:2,TM_NAME:3,TM_CLOCK:16,TM_TIMER0:20,TM_TIMER1:24,TM_TIMER2:28,TM_TIMER3:32,TM_TIMER4:36,TM_TIMER5:40,TM_TIMER6:44,TM_TIMER7:48,TM_TIMER8:52,TM_TIMER9:56,TM_COUNTER0:60,TM_COUNTER1:64,TM_COUNTER2:68,TM_COUNTER3:72,TM_COUNTER4:76,TM_COUNTER5:80,TM_COUNTER6:84,TM_COUNTER7:88,TM_COUNTER8:92,TM_COUNTER9:96,TM_CUR_INT:100}}},{key:"get",value:function(e){if(16>e)return(0,h.default)((0,u.default)(t.prototype),"get",this).call(this,e);if(e===this._const.TM_CUR_INT)return this._interruptCalled;var r=void 0;if(e>=this._const.TM_CLOCK&&e<this._const.TM_CLOCK+4?r=this._currentTime:e>=this._const.TM_TIMER0&&e<this._const.TM_TIMER9+4?r=this._timers[Math.floor((e-this._const.TM_TIMER0)/4)]:e>=this._const.TM_COUNTER0&&e<this._const.TM_COUNTER9+4&&(r=this._timers[Math.floor((e-this._const.TM_COUNTER0)/4)]),void 0!==r)switch(e%4){case 0:return 255&r;case 1:return r>>8&255;case 2:return r>>16&255;case 3:return r>>24&255}return 0}},{key:"set",value:function(e,r){if(16>e)(0,h.default)((0,u.default)(t.prototype),"set",this).call(this,e,r);else{var n=void 0;if(e>=this._const.TM_TIMER0&&e<this._const.TM_TIMER9+32&&(n=Math.floor((e-this._const.TM_TIMER0)/4)),void 0!==n)switch(e%4){case 0:this._timers[n]&=-256,this._timers[n]|=r,this._counters[n]=0;break;case 1:this._timers[n]&=-65281,this._timers[n]|=r<<8,this._counters[n]=0;break;case 2:this._timers[n]&=-16711681,this._timers[n]|=r<<16,this._counters[n]=0;break;case 3:this._timers[n]&=16777215,this._timers[n]|=r<<24,this._counters[n]=0}}}},{key:"step",value:function(){this._currentTime=Date.now()-this._dateDiff;for(var e=Date.now(),t=0;10>t;++t)0!==this._timers[t]&&(this._counters[t]+=e-this._lastStep,this._counters[t]>=this._timers[t]&&(this._counters[t]=0,this._interruptCalled=t,this.fireInterrupt()));this._lastStep=e}}]),t}(d.default);r.default=v},{"./device":83,"babel-runtime/core-js/object/get-prototype-of":6,"babel-runtime/helpers/classCallCheck":10,"babel-runtime/helpers/createClass":11,"babel-runtime/helpers/get":12,"babel-runtime/helpers/inherits":13,"babel-runtime/helpers/possibleConstructorReturn":14}],92:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/helpers/classCallCheck"),u=n(i),s=e("babel-runtime/helpers/createClass"),o=n(s),a=e("./motherboard"),c=n(a),f=e("./ram"),l=n(f),_=e("./mmu"),h=n(_),g=e("./cpu"),b=n(g),p=e("./storage"),d=n(p),v=e("./keyboard"),m=n(v),y=e("./timer"),T=n(y),k=e("./bios"),C=n(k),P=e("./video"),S=n(P),w=function(){function e(t,r,n,i){(0,u.default)(this,e),this.mb=new c.default,this.mmu=new h.default(new l.default(t)),this.cpu=new b.default(this.mb),this.storage=new d.default(r),this.keyboard=new m.default,this.timer=new T.default,this.bios=new C.default(i),this.video=new S.default(n),this.mb.addDevice(this.mmu),this.mb.addDevice(this.cpu),this.mb.addDevice(this.storage),this.mb.addDevice(this.keyboard),this.mb.addDevice(this.timer),this.mb.addDevice(this.bios),this.mb.addDevice(this.video)}return(0,o.default)(e,[{key:"step",value:function(){this.mb.step()}}]),e}();r.default=w},{"./bios":79,"./cpu":81,"./keyboard":85,"./mmu":87,"./motherboard":88,"./ram":89,"./storage":90,"./timer":91,"./video":93,"babel-runtime/helpers/classCallCheck":10,"babel-runtime/helpers/createClass":11}],93:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),u=n(i),s=e("babel-runtime/helpers/classCallCheck"),o=n(s),a=e("babel-runtime/helpers/createClass"),c=n(a),f=e("babel-runtime/helpers/possibleConstructorReturn"),l=n(f),_=e("babel-runtime/helpers/get"),h=n(_),g=e("babel-runtime/helpers/inherits"),b=n(g),p=e("./device"),d=n(p),v=e("./chars"),m=n(v),y=function(e){function t(e){(0,o.default)(this,t);var r=(0,l.default)(this,(0,u.default)(t).call(this));return r.VID_OP_CLRSCR=2,r.VID_OP_DRAW_PX=3,r.VID_OP_GET_PX=4,r.VID_OP_WRITE=5,r._const=r.constantList(),r._width=e.width,r._height=e.height,r._canvas=e,r._ctx=e.getContext("2d"),r._data=r._ctx.getImageData(0,0,r._width,r._height),r._p=new Uint32Array(8),r._r=new Uint32Array(2),r._charCache={},r._ctx.fillStyle="black",r._ctx.fillRect(0,0,r._width,r._height),r}return(0,b.default)(t,e),(0,c.default)(t,[{key:"name",value:function(){return"TinyVideo"}},{key:"deviceType",value:function(){return d.default.Type.VIDEO}},{key:"version",value:function(){return 0}},{key:"hasInterrupt",value:function(){return!1}},{key:"memorySize",value:function(){return 100663296}},{key:"constantList",value:function(){return{VID_TYPE:0,VID_VERSION:1,VID_INTERRUPT:2,VID_NAME:3,VID_WIDTH:16,VID_HEIGHT:17,VID_OP:18,VID_P0:20,VID_P1:24,VID_P2:28,VID_P3:32,VID_P4:36,VID_P5:40,VID_P6:44,VID_P7:48,VID_R0:52,VID_R1:56,VID_DATA:65536}}},{key:"get",value:function(e){if(16>e)return(0,h.default)((0,u.default)(t.prototype),"get",this).call(this,e);if(e===this._const.VID_WIDTH)return this._width;if(e===this._const.VID_HEIGHT)return this._height;var r=void 0;if(e>=this._const.VID_P0&&e<this._const.VID_P7+4?r=this._p[Math.floor((e-this._const.VID_P0)/4)]:e>=this._const.VID_R0&&e<this._const.VID_R1+4&&(r=this._r[Math.floor((e-this._const.VID_R0)/4)]),void 0!==r)switch(e%4){case 0:return 255&r;case 1:return r>>8&255;case 2:return r>>16&255;case 3:return r>>24&255}return 0}},{key:"set",value:function(e,r){if(16>e)(0,h.default)((0,u.default)(t.prototype),"set",this).call(this,e,r);else if(e===this._const.VID_OP)this._r=this._execute(r);else{var n=void 0,i=void 0;if(e>=this._const.VID_P0&&e<this._const.VID_P7+4?(n=Math.floor((e-this._const.VID_P0)/4),i=this._p):e>=this._const.VID_R0&&e<this._const.VID_R1+4&&(n=Math.floor((e-this._const.VID_R0)/4),i=this._p),i)switch(e%4){case 0:i[n]&=-256,i[n]|=r;break;case 1:i[n]&=-65281,i[n]|=r<<8;break;case 2:i[n]&=-16711681,i[n]|=r<<16;break;case 3:i[n]&=16777215,i[n]|=r<<24}}}},{key:"_execute",value:function(e){switch(e){case this.VID_OP_CLRSCR:this._ctx.fillStyle="rgb("+(this._p[0]>>16&255)+","+(this._p[0]>>8&255)+","+(255&this._p[0])+")",this._ctx.fillRect(0,0,this._width,this._height);break;case this.VID_OP_DRAW_PX:var t=4*(this._p[0]+this._p[1]*this._width);this._data.data[t+3]=255,this._data.data[t+0]=this._p[2]>>16&255,this._data.data[t+1]=this._p[2]>>8&255,this._data.data[t+2]=255&this._p[2],this._ctx.putImageData(this._data,0,0,this._p[0],this._p[1],1,1);break;case this.VID_OP_GET_PX:var r=this._ctx.getImageData(this._p[0],this._p[1],1,1).data;return[r[0]<<16|r[1]<<8|r[2],0];case this.VID_OP_WRITE:this._drawChar.apply(this,this._p.slice(0,7))}return[0,0]}},{key:"_drawChar",value:function(e,t,r,n,i,u,s){var o=this._charImage(e,n,i),a=10+6*t+u,c=10+9*r+s;this._ctx.putImageData(o,a,c)}},{key:"_charImage",value:function(e,t,r){var n=e.toString(16)+"_"+t.toString(16)+r.toString(16),i=this._charCache[n];if(i)return i;var u=this._createCharImage(e,t,r);return this._charCache[n]=u,u}},{key:"_createCharImage",value:function(e,t,r){for(var n=this._ctx.createImageData(6,9),i=0;9>i;++i)for(var u=0;6>u;++u){var s=4*(5-u+6*i),o=m.default[e][i]>>u&1;n.data[s+3]=255,n.data[s]=(o?r:t)>>16&255,n.data[s+1]=(o?r:t)>>8&255,n.data[s+2]=255&(o?r:t)}return n}}]),t}(d.default);r.default=y},{"./chars":80,"./device":83,"babel-runtime/core-js/object/get-prototype-of":6,"babel-runtime/helpers/classCallCheck":10,"babel-runtime/helpers/createClass":11,"babel-runtime/helpers/get":12,"babel-runtime/helpers/inherits":13,"babel-runtime/helpers/possibleConstructorReturn":14}]},{},[84]);