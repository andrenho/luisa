!function e(t,r,n){function i(o,u){if(!r[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(s)return s(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var f=r[o]={exports:{}};t[o][0].call(f.exports,function(e){var r=t[o][1][e];return i(r?r:e)},f,f.exports,e,t,r,n)}return r[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,r){t.exports={default:e("core-js/library/fn/array/from"),__esModule:!0}},{"core-js/library/fn/array/from":20}],2:[function(e,t,r){t.exports={default:e("core-js/library/fn/get-iterator"),__esModule:!0}},{"core-js/library/fn/get-iterator":21}],3:[function(e,t,r){t.exports={default:e("core-js/library/fn/is-iterable"),__esModule:!0}},{"core-js/library/fn/is-iterable":22}],4:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":23}],5:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":24}],6:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/get-own-property-descriptor"),__esModule:!0}},{"core-js/library/fn/object/get-own-property-descriptor":25}],7:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/get-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/get-prototype-of":26}],8:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/keys"),__esModule:!0}},{"core-js/library/fn/object/keys":27}],9:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/set-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/set-prototype-of":28}],10:[function(e,t,r){t.exports={default:e("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":29}],11:[function(e,t,r){t.exports={default:e("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":30}],12:[function(e,t,r){"use strict";r.__esModule=!0,r.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},{}],13:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var i=e("../core-js/object/define-property"),s=n(i);r.default=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,s.default)(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()},{"../core-js/object/define-property":5}],14:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var i=e("../core-js/object/get-prototype-of"),s=n(i),o=e("../core-js/object/get-own-property-descriptor"),u=n(o);r.default=function e(t,r,n){null===t&&(t=Function.prototype);var i=(0,u.default)(t,r);if(void 0===i){var o=(0,s.default)(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(n)}},{"../core-js/object/get-own-property-descriptor":6,"../core-js/object/get-prototype-of":7}],15:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var i=e("../core-js/object/set-prototype-of"),s=n(i),o=e("../core-js/object/create"),u=n(o),a=e("../helpers/typeof"),c=n(a);r.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":(0,c.default)(t)));e.prototype=(0,u.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(s.default?(0,s.default)(e,t):e.__proto__=t)}},{"../core-js/object/create":4,"../core-js/object/set-prototype-of":9,"../helpers/typeof":19}],16:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var i=e("../helpers/typeof"),s=n(i);r.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":(0,s.default)(t))&&"function"!=typeof t?e:t}},{"../helpers/typeof":19}],17:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var i=e("../core-js/is-iterable"),s=n(i),o=e("../core-js/get-iterator"),u=n(o);r.default=function(){function e(e,t){var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=(0,u.default)(e);!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw s}}return r}return function(t,r){if(Array.isArray(t))return t;if((0,s.default)(Object(t)))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},{"../core-js/get-iterator":2,"../core-js/is-iterable":3}],18:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var i=e("../core-js/array/from"),s=n(i);r.default=function(e){return Array.isArray(e)?e:(0,s.default)(e)}},{"../core-js/array/from":1}],19:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var i="function"==typeof _Symbol&&"symbol"==typeof _Symbol$iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof _Symbol&&e.constructor===_Symbol?"symbol":typeof e};r.__esModule=!0;var s=e("../core-js/symbol/iterator"),o=n(s),u=e("../core-js/symbol"),a=n(u);r.default="function"==typeof a.default&&"symbol"===i(o.default)?function(e){return"undefined"==typeof e?"undefined":i(e)}:function(e){return e&&"function"==typeof a.default&&e.constructor===a.default?"symbol":"undefined"==typeof e?"undefined":i(e)}},{"../core-js/symbol":10,"../core-js/symbol/iterator":11}],20:[function(e,t,r){e("../../modules/es6.string.iterator"),e("../../modules/es6.array.from"),t.exports=e("../../modules/$.core").Array.from},{"../../modules/$.core":36,"../../modules/es6.array.from":76,"../../modules/es6.string.iterator":83}],21:[function(e,t,r){e("../modules/web.dom.iterable"),e("../modules/es6.string.iterator"),t.exports=e("../modules/core.get-iterator")},{"../modules/core.get-iterator":74,"../modules/es6.string.iterator":83,"../modules/web.dom.iterable":85}],22:[function(e,t,r){e("../modules/web.dom.iterable"),e("../modules/es6.string.iterator"),t.exports=e("../modules/core.is-iterable")},{"../modules/core.is-iterable":75,"../modules/es6.string.iterator":83,"../modules/web.dom.iterable":85}],23:[function(e,t,r){var n=e("../../modules/$");t.exports=function(e,t){return n.create(e,t)}},{"../../modules/$":57}],24:[function(e,t,r){var n=e("../../modules/$");t.exports=function(e,t,r){return n.setDesc(e,t,r)}},{"../../modules/$":57}],25:[function(e,t,r){var n=e("../../modules/$");e("../../modules/es6.object.get-own-property-descriptor"),t.exports=function(e,t){return n.getDesc(e,t)}},{"../../modules/$":57,"../../modules/es6.object.get-own-property-descriptor":78}],26:[function(e,t,r){e("../../modules/es6.object.get-prototype-of"),t.exports=e("../../modules/$.core").Object.getPrototypeOf},{"../../modules/$.core":36,"../../modules/es6.object.get-prototype-of":79}],27:[function(e,t,r){e("../../modules/es6.object.keys"),t.exports=e("../../modules/$.core").Object.keys},{"../../modules/$.core":36,"../../modules/es6.object.keys":80}],28:[function(e,t,r){e("../../modules/es6.object.set-prototype-of"),t.exports=e("../../modules/$.core").Object.setPrototypeOf},{"../../modules/$.core":36,"../../modules/es6.object.set-prototype-of":81}],29:[function(e,t,r){e("../../modules/es6.symbol"),e("../../modules/es6.object.to-string"),t.exports=e("../../modules/$.core").Symbol},{"../../modules/$.core":36,"../../modules/es6.object.to-string":82,"../../modules/es6.symbol":84}],30:[function(e,t,r){e("../../modules/es6.string.iterator"),e("../../modules/web.dom.iterable"),t.exports=e("../../modules/$.wks")("iterator")},{"../../modules/$.wks":72,"../../modules/es6.string.iterator":83,"../../modules/web.dom.iterable":85}],31:[function(e,t,r){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],32:[function(e,t,r){t.exports=function(){}},{}],33:[function(e,t,r){var n=e("./$.is-object");t.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},{"./$.is-object":50}],34:[function(e,t,r){var n=e("./$.cof"),i=e("./$.wks")("toStringTag"),s="Arguments"==n(function(){return arguments}());t.exports=function(e){var t,r,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=(t=Object(e))[i])?r:s?n(t):"Object"==(o=n(t))&&"function"==typeof t.callee?"Arguments":o}},{"./$.cof":35,"./$.wks":72}],35:[function(e,t,r){var n={}.toString;t.exports=function(e){return n.call(e).slice(8,-1)}},{}],36:[function(e,t,r){var n=t.exports={version:"1.2.6"};"number"==typeof __e&&(__e=n)},{}],37:[function(e,t,r){var n=e("./$.a-function");t.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},{"./$.a-function":31}],38:[function(e,t,r){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],39:[function(e,t,r){t.exports=!e("./$.fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./$.fails":42}],40:[function(e,t,r){var n=e("./$");t.exports=function(e){var t=n.getKeys(e),r=n.getSymbols;if(r)for(var i,s=r(e),o=n.isEnum,u=0;s.length>u;)o.call(e,i=s[u++])&&t.push(i);return t}},{"./$":57}],41:[function(e,t,r){var n=e("./$.global"),i=e("./$.core"),s=e("./$.ctx"),o="prototype",u=function(e,t,r){var a,c,f,l=e&u.F,_=e&u.G,h=e&u.S,p=e&u.P,b=e&u.B,d=e&u.W,g=_?i:i[t]||(i[t]={}),v=_?n:h?n[t]:(n[t]||{})[o];_&&(r=t);for(a in r)c=!l&&v&&a in v,c&&a in g||(f=c?v[a]:r[a],g[a]=_&&"function"!=typeof v[a]?r[a]:b&&c?s(f,n):d&&v[a]==f?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t[o]=e[o],t}(f):p&&"function"==typeof f?s(Function.call,f):f,p&&((g[o]||(g[o]={}))[a]=f))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,t.exports=u},{"./$.core":36,"./$.ctx":37,"./$.global":44}],42:[function(e,t,r){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],43:[function(e,t,r){var n=e("./$.to-iobject"),i=e("./$").getNames,s={}.toString,o="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(e){try{return i(e)}catch(e){return o.slice()}};t.exports.get=function(e){return o&&"[object Window]"==s.call(e)?u(e):i(n(e))}},{"./$":57,"./$.to-iobject":68}],44:[function(e,t,r){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],45:[function(e,t,r){var n={}.hasOwnProperty;t.exports=function(e,t){return n.call(e,t)}},{}],46:[function(e,t,r){var n=e("./$"),i=e("./$.property-desc");t.exports=e("./$.descriptors")?function(e,t,r){return n.setDesc(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},{"./$":57,"./$.descriptors":39,"./$.property-desc":61}],47:[function(e,t,r){var n=e("./$.cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},{"./$.cof":35}],48:[function(e,t,r){var n=e("./$.iterators"),i=e("./$.wks")("iterator"),s=Array.prototype;t.exports=function(e){return void 0!==e&&(n.Array===e||s[i]===e)}},{"./$.iterators":56,"./$.wks":72}],49:[function(e,t,r){var n=e("./$.cof");t.exports=Array.isArray||function(e){return"Array"==n(e)}},{"./$.cof":35}],50:[function(e,t,r){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],51:[function(e,t,r){var n=e("./$.an-object");t.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){var s=e.return;throw void 0!==s&&n(s.call(e)),t}}},{"./$.an-object":33}],52:[function(e,t,r){"use strict";var n=e("./$"),i=e("./$.property-desc"),s=e("./$.set-to-string-tag"),o={};e("./$.hide")(o,e("./$.wks")("iterator"),function(){return this}),t.exports=function(e,t,r){e.prototype=n.create(o,{next:i(1,r)}),s(e,t+" Iterator")}},{"./$":57,"./$.hide":46,"./$.property-desc":61,"./$.set-to-string-tag":64,"./$.wks":72}],53:[function(e,t,r){"use strict";var n=e("./$.library"),i=e("./$.export"),s=e("./$.redefine"),o=e("./$.hide"),u=e("./$.has"),a=e("./$.iterators"),c=e("./$.iter-create"),f=e("./$.set-to-string-tag"),l=e("./$").getProto,_=e("./$.wks")("iterator"),h=!([].keys&&"next"in[].keys()),p="@@iterator",b="keys",d="values",g=function(){return this};t.exports=function(e,t,r,v,m,y,k){c(r,t,v);var T,M,C=function(e){if(!h&&e in S)return S[e];switch(e){case b:return function(){return new r(this,e)};case d:return function(){return new r(this,e)}}return function(){return new r(this,e)}},w=t+" Iterator",P=m==d,$=!1,S=e.prototype,E=S[_]||S[p]||m&&S[m],j=E||C(m);if(E){var I=l(j.call(new e));f(I,w,!0),!n&&u(S,p)&&o(I,_,g),P&&E.name!==d&&($=!0,j=function(){return E.call(this)})}if(n&&!k||!h&&!$&&S[_]||o(S,_,j),a[t]=j,a[w]=g,m)if(T={values:P?j:C(d),keys:y?j:C(b),entries:P?C("entries"):j},k)for(M in T)M in S||s(S,M,T[M]);else i(i.P+i.F*(h||$),t,T);return T}},{"./$":57,"./$.export":41,"./$.has":45,"./$.hide":46,"./$.iter-create":52,"./$.iterators":56,"./$.library":59,"./$.redefine":62,"./$.set-to-string-tag":64,"./$.wks":72}],54:[function(e,t,r){var n=e("./$.wks")("iterator"),i=!1;try{var s=[7][n]();s.return=function(){i=!0},Array.from(s,function(){throw 2})}catch(e){}t.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var s=[7],o=s[n]();o.next=function(){r=!0},s[n]=function(){return o},e(s)}catch(e){}return r}},{"./$.wks":72}],55:[function(e,t,r){t.exports=function(e,t){return{value:t,done:!!e}}},{}],56:[function(e,t,r){t.exports={}},{}],57:[function(e,t,r){var n=Object;t.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},{}],58:[function(e,t,r){var n=e("./$"),i=e("./$.to-iobject");t.exports=function(e,t){for(var r,s=i(e),o=n.getKeys(s),u=o.length,a=0;u>a;)if(s[r=o[a++]]===t)return r}},{"./$":57,"./$.to-iobject":68}],59:[function(e,t,r){t.exports=!0},{}],60:[function(e,t,r){var n=e("./$.export"),i=e("./$.core"),s=e("./$.fails");t.exports=function(e,t){var r=(i.Object||{})[e]||Object[e],o={};o[e]=t(r),n(n.S+n.F*s(function(){r(1)}),"Object",o)}},{"./$.core":36,"./$.export":41,"./$.fails":42}],61:[function(e,t,r){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],62:[function(e,t,r){t.exports=e("./$.hide")},{"./$.hide":46}],63:[function(e,t,r){var n=e("./$").getDesc,i=e("./$.is-object"),s=e("./$.an-object"),o=function(e,t){if(s(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,r,i){try{i=e("./$.ctx")(Function.call,n(Object.prototype,"__proto__").set,2),i(t,[]),r=!(t instanceof Array)}catch(e){r=!0}return function(e,t){return o(e,t),r?e.__proto__=t:i(e,t),e}}({},!1):void 0),check:o}},{"./$":57,"./$.an-object":33,"./$.ctx":37,"./$.is-object":50}],64:[function(e,t,r){var n=e("./$").setDesc,i=e("./$.has"),s=e("./$.wks")("toStringTag");t.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,s)&&n(e,s,{configurable:!0,value:t})}},{"./$":57,"./$.has":45,"./$.wks":72}],65:[function(e,t,r){var n=e("./$.global"),i="__core-js_shared__",s=n[i]||(n[i]={});t.exports=function(e){return s[e]||(s[e]={})}},{"./$.global":44}],66:[function(e,t,r){var n=e("./$.to-integer"),i=e("./$.defined");t.exports=function(e){return function(t,r){var s,o,u=String(i(t)),a=n(r),c=u.length;return 0>a||a>=c?e?"":void 0:(s=u.charCodeAt(a),55296>s||s>56319||a+1===c||(o=u.charCodeAt(a+1))<56320||o>57343?e?u.charAt(a):s:e?u.slice(a,a+2):(s-55296<<10)+(o-56320)+65536)}}},{"./$.defined":38,"./$.to-integer":67}],67:[function(e,t,r){var n=Math.ceil,i=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},{}],68:[function(e,t,r){var n=e("./$.iobject"),i=e("./$.defined");t.exports=function(e){return n(i(e))}},{"./$.defined":38,"./$.iobject":47}],69:[function(e,t,r){var n=e("./$.to-integer"),i=Math.min;t.exports=function(e){return e>0?i(n(e),9007199254740991):0}},{"./$.to-integer":67}],70:[function(e,t,r){var n=e("./$.defined");t.exports=function(e){return Object(n(e))}},{"./$.defined":38}],71:[function(e,t,r){var n=0,i=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},{}],72:[function(e,t,r){var n=e("./$.shared")("wks"),i=e("./$.uid"),s=e("./$.global").Symbol;t.exports=function(e){return n[e]||(n[e]=s&&s[e]||(s||i)("Symbol."+e))}},{"./$.global":44,"./$.shared":65,"./$.uid":71}],73:[function(e,t,r){var n=e("./$.classof"),i=e("./$.wks")("iterator"),s=e("./$.iterators");t.exports=e("./$.core").getIteratorMethod=function(e){return void 0!=e?e[i]||e["@@iterator"]||s[n(e)]:void 0}},{"./$.classof":34,"./$.core":36,"./$.iterators":56,"./$.wks":72}],74:[function(e,t,r){var n=e("./$.an-object"),i=e("./core.get-iterator-method");t.exports=e("./$.core").getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},{"./$.an-object":33,"./$.core":36,"./core.get-iterator-method":73}],75:[function(e,t,r){var n=e("./$.classof"),i=e("./$.wks")("iterator"),s=e("./$.iterators");t.exports=e("./$.core").isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||s.hasOwnProperty(n(t))}},{"./$.classof":34,"./$.core":36,"./$.iterators":56,"./$.wks":72}],76:[function(e,t,r){"use strict";var n=e("./$.ctx"),i=e("./$.export"),s=e("./$.to-object"),o=e("./$.iter-call"),u=e("./$.is-array-iter"),a=e("./$.to-length"),c=e("./core.get-iterator-method");i(i.S+i.F*!e("./$.iter-detect")(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,i,f,l=s(e),_="function"==typeof this?this:Array,h=arguments,p=h.length,b=p>1?h[1]:void 0,d=void 0!==b,g=0,v=c(l);if(d&&(b=n(b,p>2?h[2]:void 0,2)),void 0==v||_==Array&&u(v))for(t=a(l.length),r=new _(t);t>g;g++)r[g]=d?b(l[g],g):l[g];else for(f=v.call(l),r=new _;!(i=f.next()).done;g++)r[g]=d?o(f,b,[i.value,g],!0):i.value;return r.length=g,r}})},{"./$.ctx":37,"./$.export":41,"./$.is-array-iter":48,"./$.iter-call":51,"./$.iter-detect":54,"./$.to-length":69,"./$.to-object":70,"./core.get-iterator-method":73}],77:[function(e,t,r){"use strict";var n=e("./$.add-to-unscopables"),i=e("./$.iter-step"),s=e("./$.iterators"),o=e("./$.to-iobject");t.exports=e("./$.iter-define")(Array,"Array",function(e,t){this._t=o(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,r):"values"==t?i(0,e[r]):i(0,[r,e[r]])},"values"),s.Arguments=s.Array,n("keys"),n("values"),n("entries")},{"./$.add-to-unscopables":32,"./$.iter-define":53,"./$.iter-step":55,"./$.iterators":56,"./$.to-iobject":68}],78:[function(e,t,r){var n=e("./$.to-iobject");e("./$.object-sap")("getOwnPropertyDescriptor",function(e){return function(t,r){return e(n(t),r)}})},{"./$.object-sap":60,"./$.to-iobject":68}],79:[function(e,t,r){var n=e("./$.to-object");e("./$.object-sap")("getPrototypeOf",function(e){return function(t){return e(n(t))}})},{"./$.object-sap":60,"./$.to-object":70}],80:[function(e,t,r){var n=e("./$.to-object");e("./$.object-sap")("keys",function(e){return function(t){return e(n(t))}})},{"./$.object-sap":60,"./$.to-object":70}],81:[function(e,t,r){var n=e("./$.export");n(n.S,"Object",{setPrototypeOf:e("./$.set-proto").set})},{"./$.export":41,"./$.set-proto":63}],82:[function(e,t,r){},{}],83:[function(e,t,r){"use strict";var n=e("./$.string-at")(!0);e("./$.iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},{"./$.iter-define":53,"./$.string-at":66}],84:[function(e,t,r){"use strict";var n=e("./$"),i=e("./$.global"),s=e("./$.has"),o=e("./$.descriptors"),u=e("./$.export"),a=e("./$.redefine"),c=e("./$.fails"),f=e("./$.shared"),l=e("./$.set-to-string-tag"),_=e("./$.uid"),h=e("./$.wks"),p=e("./$.keyof"),b=e("./$.get-names"),d=e("./$.enum-keys"),g=e("./$.is-array"),v=e("./$.an-object"),m=e("./$.to-iobject"),y=e("./$.property-desc"),k=n.getDesc,T=n.setDesc,M=n.create,C=b.get,w=i.Symbol,P=i.JSON,$=P&&P.stringify,S=!1,E=h("_hidden"),j=n.isEnum,I=f("symbol-registry"),O=f("symbols"),R="function"==typeof w,x=Object.prototype,D=o&&c(function(){return 7!=M(T({},"a",{get:function(){return T(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=k(x,t);n&&delete x[t],T(e,t,r),n&&e!==x&&T(x,t,n)}:T,U=function(e){var t=O[e]=M(w.prototype);return t._k=e,o&&S&&D(x,e,{configurable:!0,set:function(t){s(this,E)&&s(this[E],e)&&(this[E][e]=!1),D(this,e,y(1,t))}}),t},A=function(e){return"symbol"==typeof e},F=function(e,t,r){return r&&s(O,t)?(r.enumerable?(s(e,E)&&e[E][t]&&(e[E][t]=!1),r=M(r,{enumerable:y(0,!1)})):(s(e,E)||T(e,E,y(1,{})),e[E][t]=!0),D(e,t,r)):T(e,t,r)},N=function(e,t){v(e);for(var r,n=d(t=m(t)),i=0,s=n.length;s>i;)F(e,r=n[i++],t[r]);return e},G=function(e,t){return void 0===t?M(e):N(M(e),t)},V=function(e){var t=j.call(this,e);return t||!s(this,e)||!s(O,e)||s(this,E)&&this[E][e]?t:!0},L=function(e,t){var r=k(e=m(e),t);return!r||!s(O,t)||s(e,E)&&e[E][t]||(r.enumerable=!0),r},B=function(e){for(var t,r=C(m(e)),n=[],i=0;r.length>i;)s(O,t=r[i++])||t==E||n.push(t);return n},z=function(e){for(var t,r=C(m(e)),n=[],i=0;r.length>i;)s(O,t=r[i++])&&n.push(O[t]);return n},Y=function(e){if(void 0!==e&&!A(e)){for(var t,r,n=[e],i=1,s=arguments;s.length>i;)n.push(s[i++]);return t=n[1],"function"==typeof t&&(r=t),(r||!g(t))&&(t=function(e,t){return r&&(t=r.call(this,e,t)),A(t)?void 0:t}),n[1]=t,$.apply(P,n)}},K=c(function(){var e=w();return"[null]"!=$([e])||"{}"!=$({a:e})||"{}"!=$(Object(e))});R||(w=function(){if(A(this))throw TypeError("Symbol is not a constructor");return U(_(arguments.length>0?arguments[0]:void 0))},a(w.prototype,"toString",function(){return this._k}),A=function(e){return e instanceof w},n.create=G,n.isEnum=V,n.getDesc=L,n.setDesc=F,n.setDescs=N,n.getNames=b.get=B,n.getSymbols=z,o&&!e("./$.library")&&a(x,"propertyIsEnumerable",V,!0));var H={for:function(e){return s(I,e+="")?I[e]:I[e]=w(e)},keyFor:function(e){return p(I,e)},useSetter:function(){S=!0},useSimple:function(){S=!1}};n.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),function(e){var t=h(e);H[e]=R?t:U(t)}),S=!0,u(u.G+u.W,{Symbol:w}),u(u.S,"Symbol",H),u(u.S+u.F*!R,"Object",{create:G,defineProperty:F,defineProperties:N,getOwnPropertyDescriptor:L,getOwnPropertyNames:B,getOwnPropertySymbols:z}),P&&u(u.S+u.F*(!R||K),"JSON",{stringify:Y}),l(w,"Symbol"),l(Math,"Math",!0),l(i.JSON,"JSON",!0)},{"./$":57,"./$.an-object":33,"./$.descriptors":39,"./$.enum-keys":40,"./$.export":41,"./$.fails":42,"./$.get-names":43,"./$.global":44,"./$.has":45,"./$.is-array":49,"./$.keyof":58,"./$.library":59,"./$.property-desc":61,"./$.redefine":62,"./$.set-to-string-tag":64,"./$.shared":65,"./$.to-iobject":68,"./$.uid":71,"./$.wks":72}],85:[function(e,t,r){e("./es6.array.iterator");var n=e("./$.iterators");n.NodeList=n.HTMLCollection=n.Array},{"./$.iterators":56,"./es6.array.iterator":77}],86:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),s=n(i),o=e("babel-runtime/helpers/classCallCheck"),u=n(o),a=e("babel-runtime/helpers/createClass"),c=n(a),f=e("babel-runtime/helpers/possibleConstructorReturn"),l=n(f),_=e("babel-runtime/helpers/get"),h=n(_),p=e("babel-runtime/helpers/inherits"),b=n(p),d=e("./device"),g=n(d),v=function(e){function t(e){(0,u.default)(this,t);var r=(0,l.default)(this,(0,s.default)(t).call(this));if(r._const=r.constantList(),!e instanceof Uint8Array)throw new Error("Uint8Array expected");return r._code=e,r}return(0,b.default)(t,e),(0,c.default)(t,[{key:"name",value:function(){return"TinyBIOS"}},{key:"deviceType",value:function(){return g.default.Type.BIOS}},{key:"version",value:function(){return 0}},{key:"hasInterrupt",value:function(){return!1}},{key:"memorySize",value:function(){return 65536}},{key:"constantList",value:function(){return{BIOS_TYPE:0,BIOS_VERSION:1,BIOS_INTERRUPT:2,BIOS_NAME:3,BIOS_CODE:16}}},{key:"get",value:function(e){return 16>e?(0,h.default)((0,s.default)(t.prototype),"get",this).call(this,e):e>=16&&e<this._code.length+16?this._code[e-16]:0}},{key:"set",value:function(e,r){16>e&&(0,h.default)((0,s.default)(t.prototype),"set",this).call(this,e,r)}}]),t}(g.default);r.default=v},{"./device":90,"babel-runtime/core-js/object/get-prototype-of":7,"babel-runtime/helpers/classCallCheck":12,"babel-runtime/helpers/createClass":13,"babel-runtime/helpers/get":14,"babel-runtime/helpers/inherits":15,"babel-runtime/helpers/possibleConstructorReturn":16}],87:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,24,24,24,8,8,0,8,0],[0,20,20,0,0,0,0,0,0],[0,0,20,62,20,62,20,0,0],[0,8,30,48,28,6,60,8,0],[0,0,50,54,12,24,54,38,0],[0,24,52,60,24,58,54,28,0],[0,8,8,0,0,0,0,0,0],[0,12,24,24,24,24,24,12,0],[0,24,12,12,12,12,12,24,0],[0,0,20,8,62,8,20,0,0],[0,0,8,8,62,8,8,0,0],[0,0,0,0,0,0,12,8,0],[0,0,0,0,62,0,0,0,0],[0,0,0,0,0,0,12,12,0],[0,12,12,24,24,24,48,48,0],[0,28,50,50,58,50,50,28,0],[0,12,28,44,12,12,12,62,0],[0,28,54,6,4,8,16,62,0],[0,28,38,6,12,6,38,28,0],[0,12,28,44,44,62,12,12,0],[0,62,48,48,60,6,6,60,0],[0,28,50,48,60,50,50,28,0],[0,62,6,6,12,24,48,48,0],[0,28,50,50,28,50,50,28,0],[0,28,50,50,30,2,50,28,0],[0,0,0,12,0,12,0,0,0],[0,0,0,0,12,0,12,8,0],[0,6,12,24,48,24,12,6,0],[0,0,0,62,0,62,0,0,0],[0,48,24,12,6,12,24,48,0],[0,28,54,6,4,8,0,8,0],[0,28,50,50,54,54,48,30,0],[0,8,28,50,50,62,50,50,0],[0,60,50,50,62,50,50,60,0],[0,28,50,48,48,48,50,28,0],[0,60,50,50,50,50,50,60,0],[0,62,48,48,60,48,48,62,0],[0,62,48,48,60,48,48,48,0],[0,30,48,48,54,50,50,28,0],[0,50,50,50,62,50,50,50,0],[0,62,12,12,12,12,12,62,0],[0,30,6,6,6,6,38,28,0],[0,50,52,56,48,56,52,50,0],[0,48,48,48,48,48,48,62,0],[0,34,54,62,58,34,50,50,0],[0,50,58,62,62,54,50,50,0],[0,28,50,50,50,50,50,28,0],[0,60,50,50,60,48,48,48,0],[0,28,50,50,50,50,52,24,6],[0,60,50,50,60,56,52,50,0],[0,28,50,48,28,6,38,28,0],[0,62,24,24,24,24,24,24,0],[0,50,50,50,50,50,50,28,0],[0,50,50,50,28,28,8,8,0],[0,50,50,34,42,62,54,34,0],[0,50,50,28,28,28,50,50,0],[0,50,50,62,28,8,8,8,0],[0,62,2,6,12,24,48,62,0],[0,28,24,24,24,24,24,28,0],[0,48,48,24,24,24,12,12,0],[0,28,12,12,12,12,12,28,0],[0,0,0,8,28,50,0,0,0],[0,0,0,0,0,0,0,0,62],[0,24,8,0,0,0,0,0,0],[0,0,0,28,2,30,54,26,0],[0,48,48,60,50,50,50,60,0],[0,0,0,30,48,48,48,30,0],[0,2,2,30,50,50,50,30,0],[0,0,0,28,50,62,48,30,0],[0,12,26,24,60,24,24,24,0],[0,0,0,28,50,50,30,2,60],[0,48,48,60,50,50,50,50,0],[0,12,0,28,12,12,12,30,0],[0,6,0,6,6,6,6,38,28],[0,48,48,50,52,56,52,50,0],[0,28,12,12,12,12,12,62,0],[0,0,0,60,62,42,42,42,0],[0,0,0,60,50,50,50,50,0],[0,0,0,28,50,50,50,28,0],[0,0,0,60,50,50,60,48,48],[0,0,0,28,50,50,30,6,6],[0,0,0,28,50,48,48,48,0],[0,0,0,30,48,28,2,60,0],[0,24,24,60,24,24,26,12,0],[0,0,0,50,50,50,50,30,0],[0,0,0,50,50,54,28,8,0],[0,0,0,34,42,42,62,60,0],[0,0,0,34,20,8,20,34,0],[0,0,0,50,50,50,30,2,60],[0,0,0,62,6,28,48,62,0],[12,24,24,24,48,24,24,24,12],[0,8,8,8,8,8,8,8,0],[24,12,12,12,6,12,12,12,24],[0,0,0,0,10,30,20,0,0],[0,0,0,0,0,0,0,0,0]];r.default=n},{}],88:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),s=n(i),o=e("babel-runtime/helpers/classCallCheck"),u=n(o),a=e("babel-runtime/helpers/createClass"),c=n(a),f=e("babel-runtime/helpers/possibleConstructorReturn"),l=n(f),_=e("babel-runtime/helpers/get"),h=n(_),p=e("babel-runtime/helpers/inherits"),b=n(p),d=e("../src/device"),g=n(d),v=function(e){function t(e){(0,u.default)(this,t);var r=(0,l.default)(this,(0,s.default)(t).call(this));return r._mb=e,r.reset(),r._stepFunction=r.initStepFunctions(),r.invalidOpcode=!1,r}return(0,b.default)(t,e),(0,c.default)(t,[{key:"reset",value:function(){(0,h.default)((0,s.default)(t.prototype),"reset",this).call(this),this._reg=new Uint32Array(16),this._interruptVector=new Uint32Array(256),this._syscallVector=new Uint32Array(256),this._interruptsPending=[],this.PC=this._mb.get32(this._mb.MB_CPU_INIT)}},{key:"name",value:function(){return"TinyCPU"}},{key:"hasInterrupt",value:function(){return!0}},{key:"pushInterrupt",value:function(e){this._interruptsPending.push(e)}},{key:"deviceType",value:function(){return g.default.Type.CPU}},{key:"version",value:function(){return 0}},{key:"constantList",value:function(){return{CPU_A:16,CPU_B:20,CPU_C:24,CPU_D:28,CPU_E:32,CPU_F:36,CPU_G:40,CPU_H:44,CPU_I:48,CPU_J:52,CPU_K:56,CPU_L:60,CPU_FP:64,CPU_SP:68,CPU_PC:72,CPU_FL:76,CPU_INTERRUPT_VECT:256,CPU_SYSCALL_VECT:1280}}},{key:"get",value:function(e){if(16>=e)return(0,h.default)((0,s.default)(t.prototype),"get",this).call(this,e);var r=void 0;if(79>=e?r=this._reg[Math.floor((e-16)/4)]:e>=256&&1280>e?r=this._interruptVector[Math.floor((e-256)/4)]:e>=1280&&2303>e&&(r=this._syscallVector[Math.floor((e-1280)/4)]),void 0!==r)switch(e%4){case 0:return 255&r;case 1:return r>>8&255;case 2:return r>>16&255;case 3:return r>>24&255}}},{key:"set",value:function(e,r){if(16>e)(0,h.default)((0,s.default)(t.prototype),"set",this).call(this,e,r);else{var n=void 0,i=void 0;if(e>=16&&79>=e?(n=Math.floor((e-16)/4),i=this._reg):e>=256&&1280>e?(n=Math.floor((e-256)/4),i=this._interruptVector):e>=1280&&2303>e&&(n=Math.floor((e-1280)/4),i=this._syscallVector),i)switch(e%4){case 0:i[n]&=-256,i[n]|=r;break;case 1:i[n]&=-65281,i[n]|=r<<8;break;case 2:i[n]&=-16711681,i[n]|=r<<16;break;case 3:i[n]&=16777215,i[n]|=r<<24}}}},{key:"step",value:function(){var e=this._stepFunction[this._mb.get(this.PC)](this.PC+1);e&&(this.PC+=e+1)}},{key:"checkInterrupts",value:function(){if(this.T&&this._interruptsPending.length>0){var e=this._interruptsPending.shift();this._push32(this.PC),this.T=!1,this.PC=this._interruptVector[e]}}},{key:"_affectFlags",value:function(e){return this.Z=0===(4294967295&e),this.P=e%2===0,this.S=e>>31&1?!0:!1,this.V=!1,this.Y=!1,this.GT=!1,this.LT=!1,4294967295&e}},{key:"_push",value:function(e){this._mb.set(this.SP,e),this.SP-=1}},{key:"_push16",value:function(e){this.SP-=1,this._mb.set16(this.SP,e),this.SP-=1}},{key:"_push32",value:function(e){this.SP-=3,this._mb.set32(this.SP,e),this.SP-=1}},{key:"_pop",value:function(){return this.SP+=1,this._mb.get(this.SP)}},{key:"_pop16",value:function(){this.SP+=1;var e=this._mb.get16(this.SP);return this.SP+=1,e}},{key:"_pop32",value:function(){this.SP+=1;var e=this._mb.get32(this.SP);return this.SP+=3,e}},{key:"initStepFunctions",value:function(){for(var e=this,t=[],r=0;256>r;++r)t.push(function(t){return e.fireInterrupt(),e.invalidUpcode=!0,0});return t[1]=function(t){var r=e._reg,n=e._mb,i=r[n.get(t+1)];return r[n.get(t)]=e._affectFlags(i),2},t[2]=function(t){var r=e._reg,n=e._mb,i=n.get(t+1);return r[n.get(t)]=e._affectFlags(i),2},t[3]=function(t){var r=e._reg,n=e._mb,i=n.get16(t+1);return r[n.get(t)]=e._affectFlags(i),
3},t[4]=function(t){var r=e._reg,n=e._mb,i=n.get32(t+1);return r[n.get(t)]=e._affectFlags(i),5},t[5]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get(t+1),o=n.get(r[s]);return r[i]=e._affectFlags(o),2},t[6]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get32(t+1),o=n.get(s);return r[i]=e._affectFlags(o),5},t[11]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get(t+1),o=255&r[s];return n.set(r[i],e._affectFlags(o)),2},t[12]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get(t+1),o=s;return n.set(r[i],e._affectFlags(o)),2},t[13]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get(t+1),o=n.get(r[s]);return n.set(r[i],e._affectFlags(o)),2},t[14]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get32(t+1),o=n.get(s);return n.set(r[i],e._affectFlags(o)),5},t[33]=function(t){var r=e._reg,n=e._mb,i=n.get32(t),s=n.get(t+4),o=255&r[s];return n.set(i,e._affectFlags(o)),5},t[34]=function(t){var r=(e._reg,e._mb),n=r.get32(t),i=r.get(t+4),s=i;return r.set(n,e._affectFlags(s)),5},t[35]=function(t){var r=e._reg,n=e._mb,i=n.get32(t),s=n.get(t+4),o=n.get(r[s]);return n.set(i,e._affectFlags(o)),5},t[36]=function(t){var r=(e._reg,e._mb),n=r.get32(t),i=r.get32(t+4),s=r.get(r.get32(i));return r.set(n,e._affectFlags(s)),8},t[7]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get(t+1),o=n.get16(r[s]);return r[i]=e._affectFlags(o),2},t[8]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get32(t+1),o=n.get16(s);return r[i]=e._affectFlags(o),5},t[15]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get(t+1),o=65535&r[s];return n.set16(r[i],e._affectFlags(o)),2},t[26]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get16(t+1),o=s;return n.set16(r[i],e._affectFlags(o)),3},t[27]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get(t+1),o=n.get16(r[s]);return n.set16(r[i],e._affectFlags(o)),2},t[28]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get32(t+1),o=n.get16(s);return n.set16(r[i],e._affectFlags(o)),5},t[37]=function(t){var r=e._reg,n=e._mb,i=n.get32(t),s=n.get(t+4),o=65535&r[s];return n.set16(i,e._affectFlags(o)),5},t[38]=function(t){var r=(e._reg,e._mb),n=r.get32(t),i=r.get16(t+4),s=i;return r.set16(n,e._affectFlags(s)),6},t[39]=function(t){var r=e._reg,n=e._mb,i=n.get32(t),s=n.get(t+4);return n.set16(i,n.get16(r[s])),5},t[40]=function(t){var r=(e._reg,e._mb),n=r.get32(t),i=r.get32(t+4);return r.set16(n,r.get16(r.get32(i))),8},t[9]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get(t+1),o=n.get32(r[s]);return r[i]=e._affectFlags(o),2},t[10]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get32(t+1),o=n.get32(s);return r[i]=e._affectFlags(o),5},t[29]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get(t+1),o=r[s];return n.set32(r[i],e._affectFlags(o)),2},t[30]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get32(t+1),o=s;return n.set32(r[i],e._affectFlags(o)),5},t[31]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get(t+1),o=n.get32(r[s]);return n.set32(r[i],e._affectFlags(o)),2},t[32]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get32(t+1),o=n.get32(s);return n.set32(r[i],e._affectFlags(o)),5},t[41]=function(t){var r=e._reg,n=e._mb,i=n.get32(t),s=n.get(t+4),o=r[s];return n.set32(i,e._affectFlags(o)),5},t[42]=function(t){var r=(e._reg,e._mb),n=r.get32(t),i=r.get32(t+4),s=i;return r.set32(n,e._affectFlags(s)),8},t[43]=function(t){var r=e._reg,n=e._mb,i=n.get32(t),s=n.get(t+4),o=n.get32(r[s]);return n.set32(i,e._affectFlags(o)),5},t[44]=function(t){var r=(e._reg,e._mb),n=r.get32(t),i=r.get32(t+4),s=r.get32(r.get32(i));return r.set32(n,e._affectFlags(s)),8},t[45]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get(t+1),o=r[i]|r[s];return r[i]=e._affectFlags(o),2},t[46]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get(t+1),o=r[i]|s;return r[i]=e._affectFlags(o),2},t[47]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get16(t+1),o=r[i]|s;return r[i]=e._affectFlags(o),3},t[48]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get32(t+1),o=r[i]|s;return r[i]=e._affectFlags(o),5},t[49]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get(t+1),o=r[i]^r[s];return r[i]=e._affectFlags(o),2},t[50]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get(t+1),o=r[i]^s;return r[i]=e._affectFlags(o),2},t[51]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get16(t+1),o=r[i]^s;return r[i]=e._affectFlags(o),3},t[52]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get32(t+1),o=r[i]^s;return r[i]=e._affectFlags(o),5},t[53]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get(t+1),o=r[i]&r[s];return r[i]=e._affectFlags(o),2},t[54]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get(t+1),o=r[i]&s;return r[i]=e._affectFlags(o),2},t[55]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get16(t+1),o=r[i]&s;return r[i]=e._affectFlags(o),3},t[56]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get32(t+1),o=r[i]&s;return r[i]=e._affectFlags(o),5},t[57]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get(t+1),o=r[i]<<r[s];return r[i]=e._affectFlags(o),e.Y=1==(r[i]>>31&1),2},t[58]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get(t+1),o=r[i]<<s;return r[i]=e._affectFlags(o),e.Y=1==(r[i]>>31&1),2},t[61]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get(t+1),o=r[i]>>r[s];return r[i]=e._affectFlags(o),e.Y=1==(1&r[i]),2},t[62]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get(t+1),o=r[i]>>s;return r[i]=e._affectFlags(o),e.Y=1==(1&r[i]),2},t[65]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=~r[i];return r[i]=e._affectFlags(s),1},t[66]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get(t+1),o=r[i]+r[s]+(e.Y?1:0);return r[i]=e._affectFlags(o),2},t[67]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get(t+1),o=r[i]+s+(e.Y?1:0);return r[i]=e._affectFlags(o),e.Y=o>4294967295,2},t[68]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get16(t+1),o=r[i]+s+(e.Y?1:0);return r[i]=e._affectFlags(o),e.Y=o>4294967295,3},t[69]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get32(t+1),o=r[i]+s+(e.Y?1:0);return r[i]=e._affectFlags(o),e.Y=o>4294967295,5},t[70]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get(t+1),o=r[i]-r[s]-(e.Y?1:0);return r[i]=e._affectFlags(o),e.Y=0>o,2},t[71]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get(t+1),o=r[i]-s-(e.Y?1:0);return r[i]=e._affectFlags(o),e.Y=0>o,2},t[72]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get16(t+1),o=r[i]-s-(e.Y?1:0);return r[i]=e._affectFlags(o),e.Y=0>o,3},t[73]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get32(t+1),o=r[i]-s-(e.Y?1:0);return r[i]=e._affectFlags(o),e.Y=0>o,5},t[74]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get(t+1);return e._affectFlags(r[i]-r[s],32),e.LT=r[i]<r[s],e.GT=r[i]>r[s],e.Y=r[i]-r[s]<0,2},t[75]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get(t+1);return e._affectFlags(r[i]-s,8),e.LT=r[i]<s,e.GT=r[i]>s,e.Y=r[i]-s<0,2},t[76]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get16(t+1);return e._affectFlags(r[i]-s,16),e.LT=r[i]<s,e.GT=r[i]>s,e.Y=r[i]-s<0,3},t[77]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get32(t+1);return e._affectFlags(r[i]-s,32),e.LT=r[i]<s,e.GT=r[i]>s,e.Y=r[i]-s<0,5},t[78]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get(t+1),o=r[i]*r[s];return r[i]=e._affectFlags(o),e.V=o>4294967295,2},t[79]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get(t+1),o=r[i]*s;return r[i]=e._affectFlags(o),e.V=o>4294967295,2},t[80]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get16(t+1),o=r[i]*s;return r[i]=e._affectFlags(o),e.V=o>4294967295,3},t[81]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get32(t+1),o=r[i]*s;return r[i]=e._affectFlags(o),e.V=o>4294967295,5},t[82]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get(t+1),o=Math.floor(r[i]/r[s]);return r[i]=e._affectFlags(o),2},t[83]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get(t+1),o=Math.floor(r[i]/s);return r[i]=e._affectFlags(o),2},t[84]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get16(t+1),o=Math.floor(r[i]/s);return r[i]=e._affectFlags(o),3},t[85]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get32(t+1),o=Math.floor(r[i]/s);return r[i]=e._affectFlags(o),5},t[86]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get(t+1),o=r[i]%r[s];return r[i]=e._affectFlags(o),2},t[87]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get(t+1),o=r[i]%s;return r[i]=e._affectFlags(o),2},t[88]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get16(t+1),o=r[i]%s;return r[i]=e._affectFlags(o),3},t[89]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=n.get32(t+1),o=r[i]%s;return r[i]=e._affectFlags(o),5},t[90]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=r[i]+1;return r[i]=e._affectFlags(s),e.Y=s>4294967295,1},t[91]=function(t){var r=e._reg,n=e._mb,i=n.get(t),s=r[i]-1;return r[i]=e._affectFlags(s),e.Y=0>s,1},t[92]=function(t){var r=e._reg,n=e._mb,i=n.get(t);return e.Z?(e.PC=r[i],0):1},t[93]=function(t){var r=(e._reg,e._mb),n=r.get32(t);return e.Z?(e.PC=n,0):4},t[94]=function(t){var r=e._reg,n=e._mb,i=n.get(t);return e.Z?1:(e.PC=r[i],0)},t[95]=function(t){var r=(e._reg,e._mb),n=r.get32(t);return e.Z?4:(e.PC=n,0)},t[96]=function(t){var r=e._reg,n=e._mb,i=n.get(t);return e.S?(e.PC=r[i],0):1},t[97]=function(t){var r=(e._reg,e._mb),n=r.get32(t);return e.S?(e.PC=n,0):4},t[98]=function(t){var r=e._reg,n=e._mb,i=n.get(t);return e.S?1:(e.PC=r[i],0)},t[99]=function(t){var r=(e._reg,e._mb),n=r.get32(t);return e.S?4:(e.PC=n,0)},t[100]=function(t){var r=e._reg,n=e._mb,i=n.get(t);return e.GT?(e.PC=r[i],0):1},t[101]=function(t){var r=(e._reg,e._mb),n=r.get32(t);return e.GT?(e.PC=n,0):4},t[102]=function(t){var r=e._reg,n=e._mb,i=n.get(t);return e.GT&&e.Z?(e.PC=r[i],0):1},t[103]=function(t){var r=(e._reg,e._mb),n=r.get32(t);return e.GT&&e.Z?(e.PC=n,0):4},t[104]=function(t){var r=e._reg,n=e._mb,i=n.get(t);return e.LT?(e.PC=r[i],0):1},t[105]=function(t){var r=(e._reg,e._mb),n=r.get32(t);return e.LT?(e.PC=n,0):4},t[106]=function(t){var r=e._reg,n=e._mb,i=n.get(t);return e.LT&&e.Z?(e.PC=r[i],0):1},t[107]=function(t){var r=(e._reg,e._mb),n=r.get32(t);return e.LT&&e.Z?(e.PC=n,0):4},t[108]=function(t){var r=e._reg,n=e._mb,i=n.get(t);return e.V?(e.PC=r[i],0):1},t[109]=function(t){var r=(e._reg,e._mb),n=r.get32(t);return e.V?(e.PC=n,0):4},t[110]=function(t){var r=e._reg,n=e._mb,i=n.get(t);return e.V?1:(e.PC=r[i],0)},t[111]=function(t){var r=(e._reg,e._mb),n=r.get32(t);return e.V?4:(e.PC=n,0)},t[112]=function(t){var r=(e._reg,e._mb,e._mb.get(t));return e.PC=e._reg[r],0},t[113]=function(t){var r=e._mb.get32(t);return e.PC=r,0},t[114]=function(t){var r=e._mb.get(t);return e._push32(e.PC+2),e.PC=e._reg[r],0},t[115]=function(t){var r=e._mb.get32(t);return e._push32(e.PC+5),e.PC=r,0},t[116]=function(t){return e.PC=e._pop32(),0},t[117]=function(t){var r=e._mb.get(t);return e._push32(e.PC+2),e.PC=e._syscallVector[255&e._reg[r]],0},t[118]=function(t){var r=e._mb.get(t);return e._push32(e.PC+2),e.PC=e._syscallVector[r],0},t[119]=function(t){return e.PC=e._pop32(),e.T=!0,0},t[134]=function(t){return e.PC=e._pop32(),0},t[120]=function(t){var r=e._mb.get(t);return e._push(255&e._reg[r]),1},t[121]=function(t){var r=e._mb.get(t);return e._push(r),1},t[122]=function(t){var r=e._mb.get(t);return e._push16(65535&e._reg[r]),1},t[123]=function(t){var r=e._mb.get16(t);return e._push16(r),2},t[124]=function(t){var r=e._mb.get(t);return e._push32(e._reg[r]),1},t[125]=function(t){var r=e._mb.get32(t);return e._push32(r),4},t[126]=function(t){for(var r=0;11>=r;++r)e._push32(e._reg[r]);return 0},t[127]=function(t){var r=e._mb.get(t);return e._reg[r]=e._pop(),1},t[128]=function(t){var r=e._mb.get(t);return e._reg[r]=e._pop16(),1},t[129]=function(t){var r=e._mb.get(t);return e._reg[r]=e._pop32(),1},t[130]=function(t){for(var r=11;r>=0;--r)e._reg[r]=e._pop32();return 0},t[131]=function(t){for(var r=e._mb.get(t),n=0;n<e._reg[r];++n)e._pop();return 1},t[132]=function(t){for(var r=e._mb.get(t),n=0;r>n;++n)e._pop();return 1},t[133]=function(t){for(var r=e._mb.get16(t),n=0;r>n;++n)e._pop();return 2},t[135]=function(e){return 0},t}},{key:"A",get:function(){return this._reg[0]},set:function(e){this._reg[0]=e}},{key:"B",get:function(){return this._reg[1]},set:function(e){this._reg[1]=e}},{key:"C",get:function(){return this._reg[2]},set:function(e){this._reg[2]=e}},{key:"D",get:function(){return this._reg[3]},set:function(e){this._reg[3]=e}},{key:"E",get:function(){return this._reg[4]},set:function(e){this._reg[4]=e}},{key:"F",get:function(){return this._reg[5]},set:function(e){this._reg[5]=e}},{key:"G",get:function(){return this._reg[6]},set:function(e){this._reg[6]=e}},{key:"H",get:function(){return this._reg[7]},set:function(e){this._reg[7]=e}},{key:"I",get:function(){return this._reg[8]},set:function(e){this._reg[8]=e}},{key:"J",get:function(){return this._reg[9]},set:function(e){this._reg[9]=e}},{key:"K",get:function(){return this._reg[10]},set:function(e){this._reg[10]=e}},{key:"L",get:function(){return this._reg[11]},set:function(e){this._reg[11]=e}},{key:"FP",get:function(){return this._reg[12]},set:function(e){this._reg[12]=e}},{key:"SP",get:function(){return this._reg[13]},set:function(e){this._reg[13]=4294967295&e}},{key:"PC",get:function(){return this._reg[14]},set:function(e){this._reg[14]=e}},{key:"FL",get:function(){return this._reg[15]},set:function(e){this._reg[15]=e}},{key:"Y",get:function(){return 1&this._reg[15]?!0:!1},set:function(e){e?this._reg[15]|=1:this._reg[15]&=-2}},{key:"V",get:function(){return this._reg[15]>>1&1?!0:!1},set:function(e){e?this._reg[15]|=2:this._reg[15]&=-3}},{key:"Z",get:function(){return this._reg[15]>>2&1?!0:!1},set:function(e){e?this._reg[15]|=4:this._reg[15]&=-5}},{key:"S",get:function(){return this._reg[15]>>3&1?!0:!1},set:function(e){e?this._reg[15]|=8:this._reg[15]&=-9}},{key:"GT",get:function(){return this._reg[15]>>4&1?!0:!1},set:function(e){e?this._reg[15]|=16:this._reg[15]&=-17}},{key:"LT",get:function(){return this._reg[15]>>5&1?!0:!1},set:function(e){e?this._reg[15]|=32:this._reg[15]&=-33}},{key:"P",get:function(){return this._reg[15]>>6&1?!0:!1},set:function(e){e?this._reg[15]|=64:this._reg[15]&=-65}},{key:"T",get:function(){return this._reg[15]>>7&1?!0:!1},set:function(e){e?this._reg[15]|=128:this._reg[15]&=-65}}]),t}(g.default);r.default=v},{"../src/device":90,"babel-runtime/core-js/object/get-prototype-of":7,"babel-runtime/helpers/classCallCheck":12,"babel-runtime/helpers/createClass":13,"babel-runtime/helpers/get":14,"babel-runtime/helpers/inherits":15,"babel-runtime/helpers/possibleConstructorReturn":16}],89:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return(Array(t||0).join("0")+e.toString(16)).substr(-t).toUpperCase()}Object.defineProperty(r,"__esModule",{value:!0});var s=e("babel-runtime/core-js/object/keys"),o=n(s),u=e("babel-runtime/helpers/slicedToArray"),a=n(u),c=e("babel-runtime/core-js/get-iterator"),f=n(c),l=e("babel-runtime/helpers/toArray"),_=n(l),h=e("babel-runtime/helpers/classCallCheck"),p=n(h),b=e("babel-runtime/helpers/createClass"),d=n(b),g=function(){function e(t){(0,p.default)(this,e),this._vm=t,this._const=this._loadConstants(),this._last="",this._lastAddress=void 0,this._breakpoints={}}return(0,d.default)(e,[{key:"parse",value:function(e){var t=this,r=e.split(" "),n=(0,_.default)(r),i=n[0],s=n.slice(1);switch(s=s.map(function(e){return t._translate(e)}),""===i&&("s"===this._last||"n"===this._last||"l"===this._last)&&(i=this._last),this._last=i,"l"!==i&&(this._lastAddress=void 0),i){case"?":case"h":return this._help();case"r":return this._registers();case"s":return this._step();case"n":return this._stepOver();case"c":return this._continue();case"l":return this._list(s[0]);case"b":return this._setBreakpoint(s[0]);case"d":return this._unsetBreakpoint(s[0]);case"m":return this._dumpMemory(s[0],s[1]);case"p":case"pb":return this._printMemory(8,s[0]);case"pw":return this._printMemory(16,s[0]);case"pd":return this._printMemory(32,s[0]);case"e":case"eb":return this._enterMemory(8,s[0],s[1]);case"ew":return this._enterMemory(16,s[0],s[1]);case"ed":return this._enterMemory(32,s[0],s[1]);case"f":return this._fillMemory(s[0],s[1],s[2]);case"x":return this._copyMemory(s[0],s[1],s[2]);case"v":return"Not implemented yet (sorry).";default:return"syntax error (use [?] for help)"}}},{key:"welcome",value:function(){return"Welcome to TinyVM debugger. Type '?' for help.\n\n"+this._instruction()}},{key:"_loadConstants",value:function(){var e={},t=!0,r=!1,n=void 0;try{for(var i,s=(0,f.default)(this._vm.mb.devices);!(t=(i=s.next()).done);t=!0){var o=i.value;for(var u in o.constantList())e[o[u]]=u}}catch(e){r=!0,n=e}finally{try{!t&&s.return&&s.return()}finally{if(r)throw n}}return e}},{key:"_help",value:function(){return"CPU:\n  [r] Registers\n  [s] step through\n  [n] step over\n  [c] start/continue execution\n  [b]/[d] set/delete breakpoint ([address=PC])\n  [l] disassemly ([address=PC])\n\nMemory:\n  [m] dump memory block       (address [size=0x100])\n  [p/pw/pd] print memory data (address)\n  [e/ew/ed] enter memory data (address value)\n  [f] fill memory with data   (address size value)\n  [x] copy memory block       (origin destination size)\n  [v] virtual memory info"}},{key:"_instruction",value:function(e){return void 0===e&&(e=this._vm.cpu.PC),(this._breakpoints[e]?"*":" ")+" 0x"+i(e,8)+" -> "+this.decode(e)[0]}},{key:"_registers",value:function(){var e=this._vm.cpu;return"A: "+i(e.A,8)+"    E: "+i(e.E,8)+"    I: "+i(e.I,8)+"    FP: "+i(e.FP,8)+"\nB: "+i(e.B,8)+"    F: "+i(e.F,8)+"    J: "+i(e.J,8)+"    SP: "+i(e.SP,8)+"\nC: "+i(e.C,8)+"    G: "+i(e.G,8)+"    K: "+i(e.K,8)+"    PC: "+i(e.PC,8)+"\nD: "+i(e.D,8)+"    H: "+i(e.H,8)+"    L: "+i(e.L,8)+"    FL: "+i(e.FL,8)+"\n\nFlags => Y:"+(e.Y?1:0)+"  V:"+(e.V?1:0)+"  Z:"+(e.Z?1:0)+"  S:"+(e.S?1:0)+"  GT:"+(e.GT?1:0)+"  LT:"+(e.LT?1:0)+"  P:"+(e.P?1:0)+"  T:"+(e.T?1:0)+"\n\n"+this._instruction()}},{key:"_step",value:function(){return this._vm.step(),this._instruction()}},{key:"_stepOver",value:function(){var e=this._vm.cpu.PC+this.decode()[1];this._setBreakpoint(e);var t=this._continue();return this._unsetBreakpoint(e),t}},{key:"_continue",value:function(){do if(this._vm.step(),this._vm.cpu.invalidUpcode)return this._vm.cpu.invalidUpcode=!1,"Invalid opcode detected!\n"+this._instruction();while(!(this._vm.cpu.PC in this._breakpoints));return this._instruction()}},{key:"_list",value:function(e){var t=void 0;t=e?e:void 0!==this._lastAddress?this._lastAddress:this._vm.cpu.PC;for(var r=[],n=0;5>n;++n){var s=this.decode(t),o=(0,a.default)(s,2),u=o[0],c=o[1];r.push((this._breakpoints[t]?"*":" ")+" 0x"+i(t,8)+" -> "+u),t+=c}return this._lastAddress=t,r.join("\n")}},{key:"_breakpointList",value:function(){return 0===(0,o.default)(this._breakpoints).length?"Breakpoints: none.":"Breakpoints: "+(0,o.default)(this._breakpoints).map(function(e){return"0x"+i(parseInt(e),8)}).join(" ")}},{key:"_setBreakpoint",value:function(e){return void 0===e&&(e=this._vm.cpu.PC),this._breakpoints[e]=!0,this._breakpointList()}},{key:"_unsetBreakpoint",value:function(e){return void 0===e&&(e=this._vm.cpu.PC),e in this._breakpoints?(delete this._breakpoints[e],this._breakpointList()):"No such breakpoint. "+this._breakpointList()}},{key:"_dumpMemory",value:function(e,t){if(void 0===e)return"Syntax: m address [size]";t=t||256,e=16*Math.floor(e/16),t=16*Math.floor(t/16);for(var r=[],n=e;e+t>n;n+=16){for(var s=[i(n,8)+":   "],o=n;n+16>o;++o)s.push(i(this._vm.mb.get(o),2)+" "),o-n==7&&s.push(" ");s.push("  ");for(var o=n;n+16>o;++o){var u=this._vm.mb.get(o);u>=32&&127>u?s.push(String.fromCharCode(u)):s.push(".")}r.push(s.join(""))}return r.join("\n")}},{key:"_printMemory",value:function(e,t){return void 0===t?"Syntax: p[b/w/d] address":8===e?"["+i(t,8)+"] = 0x"+i(this._vm.mb.get(t),2):16===e?"["+i(t,8)+"] = 0x"+i(this._vm.mb.get16(t),4):32===e?"["+i(t,8)+"] = 0x"+i(this._vm.mb.get32(t),8):void 0}},{key:"_enterMemory",value:function(e,t,r){return void 0===t||void 0===r?"Syntax: e[b/w/d] address value":r>=Math.pow(2,e)?"Value too large.":(8===e?this._vm.mb.set(t,r):16===e?this._vm.mb.set16(t,r):32===e&&this._vm.mb.set32(t,r),"Memory set.")}},{key:"_fillMemory",value:function(e,t,r){if(void 0===e||void 0===t||void 0===r)return"Syntax: f address size value";for(var n=e;e+t>n;++n)this._vm.mb.set(n,r);return"Memory filled."}},{key:"_copyMemory",value:function(e,t,r){if(void 0===e||void 0===t||void 0===r)return"Syntax: c origin destination size";for(var n=0;r>n;++n)this._vm.mb.set(t+n,this._vm.mb.get(e+n));return"Memory copied."}},{key:"_translate",value:function(e){e.startsWith("0x")&&(e=e.slice(2));var t=!0,r=!1,n=void 0;try{for(var i,s=(0,f.default)((0,o.default)(this._const));!(t=(i=s.next()).done);t=!0){var u=i.value;if(e===this._const[u])return parseInt(u)}}catch(e){r=!0,n=e}finally{try{!t&&s.return&&s.return()}finally{if(r)throw n}}return parseInt("0x"+e)}},{key:"decode",value:function(e){function t(e){switch(e){case 0:return"A";case 1:return"B";case 2:return"C";case 3:return"D";case 4:return"E";case 5:return"F";case 6:return"G";case 7:return"H";case 8:return"I";case 9:return"J";case 10:return"K";case 11:return"L";case 12:return"FP";case 13:return"SP";case 14:return"PC";case 15:return"FL";default:return"?"}}function r(e){return e instanceof Array?"0x"+i(e[0],2):"0x"+i(e,2)}function n(e){return"0x"+i(e[1],2)+i(e[0],2)}function s(e){var t=(e[3]<<24|e[2]<<16|e[1]<<8|e[0])>>>0;return t in o?o[t]:"0x"+i(e[3],2)+i(e[2],2)+i(e[1],2)+i(e[0],2)}void 0===e&&(e=this._vm.cpu.PC);var o=this._const,u={1:function(e){return["mov     "+t(e[0])+", "+t(e[1]),3]},2:function(e){return["mov     "+t(e[0])+", "+r(e[1]),3]},3:function(e){return["mov     "+t(e[0])+", "+n(e.slice(1,3)),4]},4:function(e){return["mov     "+t(e[0])+", "+s(e.slice(1,5)),6]},5:function(e){return["movb    "+t(e[0])+", ["+t(e[1])+"]",3]},6:function(e){return["movb    "+t(e[0])+", ["+s(e.slice(1,5))+"]",6]},7:function(e){return["movw    "+t(e[0])+", ["+t(e[1])+"]",3]},8:function(e){return["movw    "+t(e[0])+", ["+s(e.slice(1,5))+"]",6]},9:function(e){return["movd    "+t(e[0])+", ["+t(e[1])+"]",3]},10:function(e){return["movd    "+t(e[0])+", ["+s(e.slice(1,5))+"]",6]},11:function(e){return["movb    ["+t(e[0])+"], "+t(e[1]),3]},12:function(e){return["movb    ["+t(e[0])+"], "+r(e[1]),3]},13:function(e){return["movb    ["+t(e[0])+"], ["+t(e[1])+"]",3]},14:function(e){return["movb    ["+t(e[0])+"], ["+s(e.slice(1,5))+"]",6]},15:function(e){return["movw    ["+t(e[0])+"], "+t(e[1]),3]},26:function(e){return["movw    ["+t(e[0])+"], "+n(e.slice(1,3)),4]},27:function(e){return["movw    ["+t(e[0])+"], ["+t(e[1])+"]",3]},28:function(e){return["movw    ["+t(e[0])+"], ["+s(e.slice(1,5))+"]",6]},29:function(e){return["movd    ["+t(e[0])+"], "+t(e[1]),3]},30:function(e){return["movd    ["+t(e[0])+"], "+s(e.slice(1,5)),6]},31:function(e){return["movd    ["+t(e[0])+"], ["+t(e[1])+"]",3]},32:function(e){return["movd    ["+t(e[0])+"], ["+s(e.slice(1,5))+"]",6]},33:function(e){return["movb    ["+s(e.slice(0,4))+"], "+t(e[4]),6]},34:function(e){return["movb    ["+s(e.slice(0,4))+"], "+r(e[4]),6]},35:function(e){return["movb    ["+s(e.slice(0,4))+"], ["+t(e[4])+"]",6]},36:function(e){return["movb    ["+s(e.slice(0,4))+"], ["+s(e.slice(4,8))+"]",9]},37:function(e){return["movw    ["+s(e.slice(0,4))+"], "+t(e[4]),6]},38:function(e){return["movw    ["+s(e.slice(0,4))+"], "+n(e.slice(4,6)),7]},39:function(e){return["movw    ["+s(e.slice(0,4))+"], ["+t(e[4])+"]",6]},40:function(e){return["movw    ["+s(e.slice(0,4))+"], ["+s(e.slice(4,8))+"]",9]},41:function(e){return["movd    ["+s(e.slice(0,4))+"], "+t(e[4]),6]},42:function(e){return["movd    ["+s(e.slice(0,4))+"], "+s(e.slice(4,8)),9]},43:function(e){return["movd    ["+s(e.slice(0,4))+"], ["+t(e[4])+"]",6]},44:function(e){return["movd    ["+s(e.slice(0,4))+"], ["+s(e.slice(4,8))+"]",9]},45:function(e){return["or      "+t(e[0])+", "+t(e[1]),3]},46:function(e){return["or      "+t(e[0])+", "+r(e[1]),3]},47:function(e){return["or      "+t(e[0])+", "+n(e.slice(1,3)),4]},48:function(e){return["or      "+t(e[0])+", "+s(e.slice(1,5)),6]},49:function(e){return["xor     "+t(e[0])+", "+t(e[1]),3]},50:function(e){return["xor     "+t(e[0])+", "+r(e[1]),3]},51:function(e){return["xor     "+t(e[0])+", "+n(e.slice(1,3)),4]},52:function(e){return["xor     "+t(e[0])+", "+s(e.slice(1,5)),6]},53:function(e){return["and     "+t(e[0])+", "+t(e[1]),3]},54:function(e){return["and     "+t(e[0])+", "+r(e[1]),3]},55:function(e){return["and     "+t(e[0])+", "+n(e.slice(1,3)),4]},56:function(e){return["and     "+t(e[0])+", "+s(e.slice(1,5)),6]},57:function(e){return["shl     "+t(e[0])+", "+t(e[1]),3]},58:function(e){return["shl     "+t(e[0])+", "+r(e[1]),3]},59:function(e){return["shr     "+t(e[0])+", "+t(e[1]),3]},60:function(e){return["shr     "+t(e[0])+", "+r(e[1]),3]},61:function(e){return["not     "+t(e[0]),2]},66:function(e){return["add     "+t(e[0])+", "+t(e[1]),3]},67:function(e){return["add     "+t(e[0])+", "+r(e[1]),3]},68:function(e){return["add     "+t(e[0])+", "+n(e.slice(1,3)),4]},69:function(e){return["add     "+t(e[0])+", "+s(e.slice(1,5)),6]},70:function(e){return["sub     "+t(e[0])+", "+t(e[1]),3]},71:function(e){return["sub     "+t(e[0])+", "+r(e[1]),3]},72:function(e){return["sub     "+t(e[0])+", "+n(e.slice(1,3)),4]},73:function(e){return["sub     "+t(e[0])+", "+s(e.slice(1,5)),6]},74:function(e){return["cmp     "+t(e[0])+", "+t(e[1]),3]},75:function(e){return["cmp     "+t(e[0])+", "+r(e[1]),3]},76:function(e){return["cmp     "+t(e[0])+", "+n(e.slice(1,3)),4]},77:function(e){return["cmp     "+t(e[0])+", "+s(e.slice(1,5)),6]},78:function(e){return["mul     "+t(e[0])+", "+t(e[1]),3]},79:function(e){return["mul     "+t(e[0])+", "+r(e[1]),3]},80:function(e){return["mul     "+t(e[0])+", "+n(e.slice(1,3)),4]},81:function(e){return["mul     "+t(e[0])+", "+s(e.slice(1,5)),6]},82:function(e){return["idiv    "+t(e[0])+", "+t(e[1]),3]},83:function(e){return["idiv    "+t(e[0])+", "+r(e[1]),3]},84:function(e){return["idiv    "+t(e[0])+", "+n(e.slice(1,3)),4]},85:function(e){return["idiv    "+t(e[0])+", "+s(e.slice(1,5)),6]},86:function(e){return["mod     "+t(e[0])+", "+t(e[1]),3]},87:function(e){return["mod     "+t(e[0])+", "+r(e[1]),3]},88:function(e){return["mod     "+t(e[0])+", "+n(e.slice(1,3)),4]},89:function(e){return["mod     "+t(e[0])+", "+s(e.slice(1,5)),6]},90:function(e){return["inc     "+t(e[0]),2]},91:function(e){return["dec     "+t(e[0]),2]},92:function(e){return["bz      "+t(e[0]),2]},93:function(e){return["bz      "+s(e.slice(0,4)),5]},94:function(e){return["bnz     "+t(e[0]),2]},95:function(e){return["bnz     "+s(e.slice(0,4)),5]},96:function(e){return["bneg    "+t(e[0]),2]},97:function(e){return["bneg    "+s(e.slice(0,4)),5]},98:function(e){return["bpos    "+t(e[0]),2]},99:function(e){return["bpos    "+s(e.slice(0,4)),5]},100:function(e){return["bgt     "+t(e[0]),2]},101:function(e){return["bgt     "+s(e.slice(0,4)),5]},102:function(e){return["bgte    "+t(e[0]),2]},103:function(e){return["bgte    "+s(e.slice(0,4)),5]},104:function(e){return["blt     "+t(e[0]),2]},105:function(e){return["blt     "+s(e.slice(0,4)),5]},106:function(e){return["blte    "+t(e[0]),2]},107:function(e){return["blte    "+s(e.slice(0,4)),5]},108:function(e){return["bv      "+t(e[0]),2]},109:function(e){return["bv      "+s(e.slice(0,4)),5]},110:function(e){return["bnv     "+t(e[0]),2]},111:function(e){return["bnv     "+s(e.slice(0,4)),5]},112:function(e){return["jmp     "+t(e[0]),2]},113:function(e){return["jmp     "+s(e.slice(0,4)),5]},114:function(e){return["jsr     "+t(e[0]),2]},115:function(e){return["jsr     "+s(e.slice(0,4)),5]},116:function(e){return["ret",1]},117:function(e){return["sys     "+t(e[0]),2]},118:function(e){return["sys     "+r(e[0]),2]},119:function(e){return["iret",1]},134:function(e){return["sret",1]},120:function(e){return["pushb   "+t(e[0]),2]},121:function(e){return["pushb   "+r(e[0]),2]},122:function(e){return["pushw   "+t(e[0]),2]},123:function(e){return["pushw   "+n(e.slice(0,2)),3]},124:function(e){return["pushd   "+t(e[0]),2]},125:function(e){return["pushd   "+s(e.slice(0,4)),5]},126:function(e){return["push.a",1]},127:function(e){return["popb    "+t(e[0]),2]},128:function(e){return["popw    "+t(e[0]),2]},129:function(e){return["popd    "+t(e[0]),2]},130:function(e){return["pop.a",1]},131:function(e){return["popx    "+t(e[0]),2]},132:function(e){return["popx    "+r(e[0]),2]},133:function(e){return["popx    "+n(e.slice(0,2)),3]},135:function(e){return["nop",1]}},a=this._vm.mb.get(e),c=this._vm.mb.getArray(e+1,8);return a in u?u[a](c):["data    "+r(a),1]}}],[{key:"encode",value:function(e){function t(e){switch(e){case"a":return 0;case"b":return 1;case"c":return 2;case"d":return 3;case"e":return 4;case"f":return 5;case"g":return 6;case"h":return 7;case"i":return 8;case"j":return 9;case"k":return 10;case"l":return 11;case"fp":return 12;case"sp":return 13;case"pc":return 14;case"fl":return 15;default:throw new Error("Invalid register "+e)}}var r=e.match(/^\s*([a-z\.]+)(?:\s+(\[?(?:[a-l]|fp|sp|pc|fl|0x[0-9a-f]+|[0-9]+)\]?))?(?:\s*,\s*(\[?(?:[a-l]|fp|sp|pc|fl|0x[0-9a-f]+|[0-9]+)\]?))?\s*$/i);if(!r)throw new Error("Invalid command `"+e+"`");for(var n={opcode:r[1],pars:[]},i=2;i<r.length;++i)if(void 0!=r[i]){var s=void 0,o=void 0,u=void 0,a=[];if("["===r[i][0]){if("]"!==r[i].slice(-1))throw new Error("Unbalanced bracket in "+r[i]);r[i][1].charCodeAt(0)>"9".charCodeAt(0)?(s="indirect register",o=t(r[i].slice(1,-1).toLowerCase()),u=8,a=[o]):(s="indirect value",o=parseInt(r[i].slice(1,-1)),u=32,a=[255&o,o>>8&255,o>>16&255,o>>24&255])}else r[i].charCodeAt(0)>"9".charCodeAt(0)?(s="register",o=t(r[i].toLowerCase()),u=8,a=[o]):(s="value",o=parseInt(r[i]),255>=o?(u=8,a=[o]):65535>=o?(u=16,a=[255&o,o>>8]):(u=32,a=[255&o,o>>8&255,o>>16&255,o>>24&255]));n.pars.push({type:s,value:o,size:u,valArray:a})}try{var c=n.pars[0].type,f=n.pars[0].value,l=n.pars[0].valArray,_=n.pars[0].size}catch(e){if(!(e instanceof TypeError))throw e;var c="none",f=0,l=[],_=0}try{var h=n.pars[1].type,p=n.pars[1].value,b=n.pars[1].valArray,d=n.pars[1].size}catch(e){if(!(e instanceof TypeError))throw e;var h="none",p=0,b=[],d=0}var g=null;switch(n.opcode){case"mov":if("register"===c&&"none"!==h){if("register"===h)g=1;else if("value"===h)switch(d){case 8:g=2;break;case 16:g=3;break;case 32:g=4}if(g)return[g,f].concat(b)}break;case"movb":if("register"===c)switch(h){case"indirect register":g=5;break;case"indirect value":g=6}else if("indirect register"===c)switch(h){case"register":g=11;break;case"value":8>=d&&(g=12);break;case"indirect register":g=13;break;case"indirect value":g=14}else if("indirect value"===c)switch(h){case"register":g=33;break;case"value":8>=d&&(g=34);break;case"indirect register":g=35;break;case"indirect value":g=36}if(g)return[g].concat(l).concat(b);break;case"movw":if("register"===c)switch(h){case"indirect register":g=7;break;case"indirect value":g=8}else if("indirect register"===c)switch(h){case"register":g=15;break;case"value":if(16>=d)return[26].concat(l).concat([255&p,p>>8]);break;case"indirect register":g=27;break;case"indirect value":g=28}else if("indirect value"===c)switch(h){case"register":g=37;break;case"value":if(16>=d)return[38].concat(l).concat([255&p,p>>8]);break;case"indirect register":g=39;break;case"indirect value":g=40}if(g)return[g].concat(l).concat(b);break;case"movd":if("register"===c)switch(h){case"indirect register":g=9;break;case"indirect value":g=10}else if("indirect register"===c)switch(h){case"register":g=29;break;case"value":return[30].concat(l).concat([255&p,p>>8&255,p>>16&255,p>>24&255]);case"indirect register":g=31;break;case"indirect value":g=32}else if("indirect value"===c)switch(h){case"register":g=41;break;case"value":return[42].concat(l).concat([255&p,p>>8&255,p>>16&255,p>>24&255]);case"indirect register":g=43;break;case"indirect value":g=44}if(g)return[g].concat(l).concat(b);break;case"or":if("register"===c){if("register"===h)return[45].concat(l).concat(b);if("value"===h&&8===d)return[46].concat(l).concat(b);if("value"===h&&16===d)return[47].concat(l).concat(b);if("value"===h&&32===d)return[48].concat(l).concat(b)}break;case"xor":if("register"===c){if("register"===h)return[49].concat(l).concat(b);if("value"===h&&8===d)return[50].concat(l).concat(b);
if("value"===h&&16===d)return[51].concat(l).concat(b);if("value"===h&&32===d)return[52].concat(l).concat(b)}break;case"and":if("register"===c){if("register"===h)return[53].concat(l).concat(b);if("value"===h&&8===d)return[54].concat(l).concat(b);if("value"===h&&16===d)return[55].concat(l).concat(b);if("value"===h&&32===d)return[56].concat(l).concat(b)}break;case"shl":if("register"===c){if("register"===h)return[57].concat(l).concat(b);if("value"===h&&8===d)return[58].concat(l).concat(b)}break;case"shr":if("register"===c){if("register"===h)return[61].concat(l).concat(b);if("value"===h&&8===d)return[62].concat(l).concat(b)}break;case"not":if("register"===c&&"none"===h)return[65].concat(l);break;case"add":if("register"===c){if("register"===h)return[66].concat(l).concat(b);if("value"===h&&8===d)return[67].concat(l).concat(b);if("value"===h&&16===d)return[68].concat(l).concat(b);if("value"===h&&32===d)return[69].concat(l).concat(b)}break;case"sub":if("register"===c){if("register"===h)return[70].concat(l).concat(b);if("value"===h&&8===d)return[71].concat(l).concat(b);if("value"===h&&16===d)return[72].concat(l).concat(b);if("value"===h&&32===d)return[73].concat(l).concat(b)}break;case"cmp":if("register"===c){if("register"===h)return[74].concat(l).concat(b);if("value"===h&&8===d)return[75].concat(l).concat(b);if("value"===h&&16===d)return[76].concat(l).concat(b);if("value"===h&&32===d)return[77].concat(l).concat(b)}break;case"mul":if("register"===c){if("register"===h)return[78].concat(l).concat(b);if("value"===h&&8===d)return[79].concat(l).concat(b);if("value"===h&&16===d)return[80].concat(l).concat(b);if("value"===h&&32===d)return[81].concat(l).concat(b)}break;case"idiv":if("register"===c){if("register"===h)return[82].concat(l).concat(b);if("value"===h&&8===d)return[83].concat(l).concat(b);if("value"===h&&16===d)return[84].concat(l).concat(b);if("value"===h&&32===d)return[85].concat(l).concat(b)}break;case"mod":if("register"===c){if("register"===h)return[86].concat(l).concat(b);if("value"===h&&8===d)return[87].concat(l).concat(b);if("value"===h&&16===d)return[88].concat(l).concat(b);if("value"===h&&32===d)return[89].concat(l).concat(b)}break;case"inc":if("register"===c&&"none"===h)return[90].concat(l);break;case"dec":if("register"===c&&"none"===h)return[91].concat(l);break;case"bz":case"beq":if("register"===c&&"none"===h)return[92].concat(l);if("value"===c&&"none"===h)return[93,255&f,f>>8&255,f>>16&255,f>>24&255];break;case"bnz":case"bneq":if("register"===c&&"none"===h)return[94].concat(l);if("value"===c&&"none"===h)return[95,255&f,f>>8&255,f>>16&255,f>>24&255];break;case"bneg":if("register"===c&&"none"===h)return[96].concat(l);if("value"===c&&"none"===h)return[97,255&f,f>>8&255,f>>16&255,f>>24&255];break;case"bpos":if("register"===c&&"none"===h)return[98].concat(l);if("value"===c&&"none"===h)return[99,255&f,f>>8&255,f>>16&255,f>>24&255];break;case"bgt":if("register"===c&&"none"===h)return[100].concat(l);if("value"===c&&"none"===h)return[101,255&f,f>>8&255,f>>16&255,f>>24&255];break;case"bgte":if("register"===c&&"none"===h)return[102].concat(l);if("value"===c&&"none"===h)return[103,255&f,f>>8&255,f>>16&255,f>>24&255];break;case"blt":if("register"===c&&"none"===h)return[104].concat(l);if("value"===c&&"none"===h)return[105,255&f,f>>8&255,f>>16&255,f>>24&255];break;case"blte":if("register"===c&&"none"===h)return[106].concat(l);if("value"===c&&"none"===h)return[107,255&f,f>>8&255,f>>16&255,f>>24&255];break;case"bv":if("register"===c&&"none"===h)return[108].concat(l);if("value"===c&&"none"===h)return[109,255&f,f>>8&255,f>>16&255,f>>24&255];break;case"bnv":if("register"===c&&"none"===h)return[110].concat(l);if("value"===c&&"none"===h)return[111,255&f,f>>8&255,f>>16&255,f>>24&255];break;case"jmp":if("register"===c&&"none"===h)return[112].concat(l);if("value"===c&&"none"===h)return[113,255&f,f>>8&255,f>>16&255,f>>24&255];break;case"jsr":if("register"===c&&"none"===h)return[114].concat(l);if("value"===c&&"none"===h)return[115,255&f,f>>8&255,f>>16&255,f>>24&255];break;case"ret":if("none"===c&&"none"===h)return[116];break;case"sys":if("register"===c&&"none"===h)return[117].concat(l);if("value"===c&&8===_&&"none"===h)return[118,f];break;case"iret":if("none"===c&&"none"===h)return[119];break;case"sret":if("none"===c&&"none"===h)return[134];break;case"pushb":if("register"===c&&"none"===h)return[120].concat(l);if("value"===c&&8>=_&&"none"===h)return[121].concat(l);break;case"pushw":if("register"===c&&"none"===h)return[122].concat(l);if(c===value&&16>=_&&"none"===h)return[123].concat([255&f,f>>8]);break;case"pushd":if("register"===c&&"none"===h)return[124].concat(l);if("value"===c&&16>=_&&"none"===h)return[125].concat([255&f,f>>8&255,f>>16&255,f>>24&255]);break;case"push.a":if("none"===c&&"none"===h)return[126];break;case"popb":if("register"===c&&"none"===h)return[127].concat(l);break;case"popw":if("register"===c&&"none"===h)return[128].concat(l);break;case"popd":if("register"===c&&"none"===h)return[129].concat(l);break;case"pop.a":if("none"===c&&"none"===h)return[130];break;case"popx":if("register"===c&&"none"===h)return[131].concat(l);if("value"===c&&8>=_&&"none"===h)return[132].concat(l);if("value"===c&&16>=_&&"none"===h)return[133].concat(l);break;case"nop":if("none"===c&&"none"===h)return[135]}throw new Error("Invalid command '"+e+"'")}}]),e}();r.default=g},{"babel-runtime/core-js/get-iterator":2,"babel-runtime/core-js/object/keys":8,"babel-runtime/helpers/classCallCheck":12,"babel-runtime/helpers/createClass":13,"babel-runtime/helpers/slicedToArray":17,"babel-runtime/helpers/toArray":18}],90:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),s=n(i),o=e("babel-runtime/helpers/classCallCheck"),u=n(o),a=e("babel-runtime/helpers/createClass"),c=n(a),f=e("babel-runtime/helpers/possibleConstructorReturn"),l=n(f),_=e("babel-runtime/helpers/inherits"),h=n(_),p=e("./lsbstorage"),b=n(p),d=function(e){function t(){(0,u.default)(this,t);var e=(0,l.default)(this,(0,s.default)(t).call(this));if(e.interruptNumber=0,e.mb=null,e.constructor===b.default)throw new TypeError("Abstact class cannot be instantiated.");if(e.name().length>13)throw new Error("Name must not be longer than 13 bytes");var r=!1;for(var n in t.Type)t.Type[n]===e.deviceType()&&(r=!0);if(!r)throw new Error('Invalid device type "'+e.deviceType()+'"');if(e.version()>255)throw new Error("Maximum version is 0xFF");if(e.memorySize()<4096)throw new Error("Memory must be at least 0x1000 bytes.");return e}return(0,h.default)(t,e),(0,c.default)(t,[{key:"initializeConstants",value:function(e){var t=this.constantList();for(var r in t)this[r]=t[r]+e}},{key:"name",value:function(){throw new Error("Implement this method")}},{key:"deviceType",value:function(){throw new Error("Implement this method")}},{key:"version",value:function(){throw new Error("Implement this method")}},{key:"memorySize",value:function(){return 4096}},{key:"hasInterrupt",value:function(){return!1}},{key:"constantList",value:function(){return{}}},{key:"fireInterrupt",value:function(){this.mb&&this.mb.pushInterrupt(this.interruptNumber)}},{key:"step",value:function(e){}},{key:"reset",value:function(){}},{key:"get",value:function(e){switch(e){case 0:return this.deviceType();case 1:return this.version();case 2:return this.interruptNumber}return e>=3&&15>=e?this.name().charCodeAt(e-3):0}},{key:"set",value:function(e){}}]),t}(b.default);r.default=d,d.Type={MOTHERBOARD:0,MMU:1,CPU:2,STORAGE:3,KEYBOARD:4,TIMER:5,BIOS:6,VIDEO:7,OTHER_INPUT:128,OTHER_OUTPUT:129,RAM:253,MOTHERBOARD:254,UNUSED:255}},{"./lsbstorage":93,"babel-runtime/core-js/object/get-prototype-of":7,"babel-runtime/helpers/classCallCheck":12,"babel-runtime/helpers/createClass":13,"babel-runtime/helpers/inherits":15,"babel-runtime/helpers/possibleConstructorReturn":16}],91:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var i=e("./tinyvm"),s=n(i),o=e("./debugger"),u=n(o);"undefined"!=typeof window&&(window.TinyVM=s.default,window.Debugger=u.default)},{"./debugger":89,"./tinyvm":99}],92:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/helpers/typeof"),s=n(i),o=e("babel-runtime/core-js/object/get-prototype-of"),u=n(o),a=e("babel-runtime/helpers/classCallCheck"),c=n(a),f=e("babel-runtime/helpers/createClass"),l=n(f),_=e("babel-runtime/helpers/possibleConstructorReturn"),h=n(_),p=e("babel-runtime/helpers/get"),b=n(p),d=e("babel-runtime/helpers/inherits"),g=n(d),v=e("./device"),m=n(v),y=function(e){function t(){(0,c.default)(this,t);var e=(0,h.default)(this,(0,u.default)(t).call(this));return e.KBD_MODE_POLL=0,e.KBD_MODE_INTERRUPT=1,e.KBD_OP_POP=1,e._const=e.constantList(),e._queue=[],e._mode=e.KBD_MODE_POLL,e}return(0,g.default)(t,e),(0,l.default)(t,[{key:"name",value:function(){return"TinyKeyboard"}},{key:"deviceType",value:function(){return m.default.Type.KEYBOARD}},{key:"version",value:function(){return 0}},{key:"hasInterrupt",value:function(){return!0}},{key:"constantList",value:function(){return{KBD_TYPE:0,KBD_VERSION:1,KBD_INTERRUPT:2,KDB_NAME:3,KBD_MODE:16,KBD_QUEUE_FULL:17,KBD_DEQUEUE:18,KBD_FRONT:20}}},{key:"addEvent",value:function(e){if("object"!==("undefined"==typeof e?"undefined":(0,s.default)(e)))throw new Error("Hash expected");if(void 0===e.event||void 0===e.shift||void 0===e.control||void 0===e.alt||void 0===e.key)throw new Error("Expected format: { event, shift, control, alt, key }");if("press"!==e.event&&"release"!==e.event)throw new Error("Event must be one of press/release");this._queue.length<t.QUEUE_SIZE&&(this._queue.push(("release"===e.event?1:0)<<31|(e.shift?1:0)<<30|(e.control?1:0)<<29|(e.alt?1:0)<<28|16777215&e.key),this._mode==this.KBD_MODE_INTERRUPT&&this.fireInterrupt())}},{key:"get",value:function(e){if(16>e)return(0,b.default)((0,u.default)(t.prototype),"get",this).call(this,e);if(e===this._const.KBD_MODE)return this._mode;if(e===this._const.KBD_QUEUE_FULL)return this._queue.length===t.QUEUE_SIZE?1:0;if(e===this._const.KBD_DEQUEUE)this._queue.shift();else if(e>=this._const.KBD_FRONT||e<this._const.KBD_FRONT+4){var r=0===this._queue.length?0:this._queue[0];switch(e%4){case 0:return 255&r;case 1:return r>>8&255;case 2:return r>>16&255;case 3:return r>>24&255}}return 0}},{key:"set",value:function(e,r){16>e?(0,b.default)((0,u.default)(t.prototype),"set",this).call(this,e,r):e===this._const.KBD_MODE&&(this._mode=r)}},{key:"queue",get:function(){return this._queue.slice()}}]),t}(m.default);r.default=y,y.QUEUE_SIZE=16},{"./device":90,"babel-runtime/core-js/object/get-prototype-of":7,"babel-runtime/helpers/classCallCheck":12,"babel-runtime/helpers/createClass":13,"babel-runtime/helpers/get":14,"babel-runtime/helpers/inherits":15,"babel-runtime/helpers/possibleConstructorReturn":16,"babel-runtime/helpers/typeof":19}],93:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/helpers/classCallCheck"),s=n(i),o=e("babel-runtime/helpers/createClass"),u=n(o),a=function(){function e(){if((0,s.default)(this,e),this.constructor===e)throw new TypeError("Abstact class cannot be instantiated.")}return(0,u.default)(e,[{key:"get16",value:function(e){return this.get(e+1)<<8|this.get(e)}},{key:"set16",value:function(e,t){this.set(e,255&t),this.set(e+1,t>>8&255)}},{key:"get32",value:function(e){var t=this.get(e+3)<<24|this.get(e+2)<<16|this.get(e+1)<<8|this.get(e);return t>>>0}},{key:"set32",value:function(e,t){this.set(e,255&t),this.set(e+1,t>>>8&255),this.set(e+2,t>>>16&255),this.set(e+3,t>>>24)}},{key:"getString",value:function(e,t){for(var r=[],n=0;t>n;++n)r.push(String.fromCharCode(this.get(e+n)));return r.join("")}},{key:"setString",value:function(e,t){for(var r=0;r<t.length;++r)this.set(e+r,t.charCodeAt(r))}},{key:"getArray",value:function(e,t){for(var r=[],n=e;e+t>n;++n)r.push(this.get(n));return r}},{key:"setArray",value:function(e,t){for(var r=0;r<t.length;++r)this.set(r+e,t[r])}}]),e}();r.default=a},{"babel-runtime/helpers/classCallCheck":12,"babel-runtime/helpers/createClass":13}],94:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),s=n(i),o=e("babel-runtime/helpers/classCallCheck"),u=n(o),a=e("babel-runtime/helpers/createClass"),c=n(a),f=e("babel-runtime/helpers/possibleConstructorReturn"),l=n(f),_=e("babel-runtime/helpers/get"),h=n(_),p=e("babel-runtime/helpers/inherits"),b=n(p),d=e("../src/device"),g=n(d),v=function(e){function t(e){(0,u.default)(this,t);var r=(0,l.default)(this,(0,s.default)(t).call(this));return r._ram=e,r.reset(),r.MMU_ERR_NONE=0,r.MMU_ERR_OUT_OF_BOUNDS=1,r.MMU_PAGE_FAULT=2,r}return(0,b.default)(t,e),(0,c.default)(t,[{key:"reset",value:function(){this._active=!1,this._lastError=0,this._vmem={active:!1,page:0}}},{key:"name",value:function(){return"TinyMMU"}},{key:"deviceType",value:function(){return g.default.Type.MMU}},{key:"version",value:function(){return 0}},{key:"hasInterrupt",value:function(){return!0}},{key:"constantList",value:function(){return{MMU_TYPE:0,MMU_VERSION:1,MMU_INTERRUPT:2,MMU_NAME:3,MMU_RAM_SZ:16,MMU_VMEM:20,MMU_ERR:24}}},{key:"translate",value:function(e){if(this._vmem.active){var t=4095&e,r=e>>12&1023,n=e>>22&1023,i=4096*this._vmem.page+4*n,s=this._ram.get32(i),o={page:65535&s,active:s>>31?!0:!1};if(!o.active){var u=new Error;throw u.name="page fault",u}var a=4096*o.page+4*r,c=this._ram.get32(a),f={page:65535&c,active:c>>31?!0:!1};if(!f.active){var u=new Error;throw u.name="page fault",u}var l=4096*f.page+t;return l}return e}},{key:"get",value:function(e){switch(e){case 16:return 255&this._ram.size;case 17:return this._ram.size>>8&255;case 18:return this._ram.size>>16&255;case 19:return this._ram.size>>24&255;case 20:return 255&this._vmem.page;case 21:return this._vmem.page>>8&255;case 22:return 0;case 23:return this._vmem.active?128:0;case 24:return 255&this._lastError;case 25:return this._lastError>>8&255;case 26:return this._lastError>>16&255;case 27:return this._lastError>>24&255;default:return(0,h.default)((0,s.default)(t.prototype),"get",this).call(this,e)}}},{key:"set",value:function(e,r){switch(e){case 20:this._vmem.page&=-256,this._vmem.page|=255&r;break;case 21:this._vmem.page&=-65281,this._vmem.page|=r<<8&127;break;case 23:this._vmem.active=r>>7?!0:!1;break;case 24:this._lastError&=-256,this._lastError|=255&r;break;case 25:this._lastError&=-65281,this._lastError|=r<<8;break;case 26:this._lastError&=-16711681,this._lastError|=r<<16;break;case 27:this._lastError&=16777215,this._lastError|=r<<24;break;default:(0,h.default)((0,s.default)(t.prototype),"set",this).call(this,e,r)}}},{key:"getMemory",value:function(e){try{return this._ram.get(this.translate(e))}catch(e){if("out of bounds"!==e.name)throw e;this.fireInterrupt(this.MMU_ERR_OUT_OF_BOUNDS)}}},{key:"setMemory",value:function(e,t){try{this._ram.set(this.translate(e),t)}catch(e){if("out of bounds"!==e.name)throw e;this.fireInterrupt(this.MMU_ERR_OUT_OF_BOUNDS)}}},{key:"fireInterrupt",value:function(e){this._lastError|=e,(0,h.default)((0,s.default)(t.prototype),"fireInterrupt",this).call(this)}},{key:"active",get:function(){return this._vmem.active}}]),t}(g.default);r.default=v},{"../src/device":90,"babel-runtime/core-js/object/get-prototype-of":7,"babel-runtime/helpers/classCallCheck":12,"babel-runtime/helpers/createClass":13,"babel-runtime/helpers/get":14,"babel-runtime/helpers/inherits":15,"babel-runtime/helpers/possibleConstructorReturn":16}],95:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/get-iterator"),s=n(i),o=e("babel-runtime/core-js/object/get-prototype-of"),u=n(o),a=e("babel-runtime/helpers/classCallCheck"),c=n(a),f=e("babel-runtime/helpers/createClass"),l=n(f),_=e("babel-runtime/helpers/possibleConstructorReturn"),h=n(_),p=e("babel-runtime/helpers/inherits"),b=n(p),d=e("./lsbstorage"),g=n(d),v=e("./device"),m=n(v),y=e("./ram"),k=n(y),T=e("./mmu"),M=(n(T),e("./cpu")),C=(n(M),function(e){function t(){(0,c.default)(this,t);var e=(0,h.default)(this,(0,u.default)(t).call(this));return e._devices=[],e._addr=4026535936,e._interruptCount=1,e._mmu=null,e._cpu=null,e._memory=new k.default(4),e._initialAddress=0,e.MB_DEV_ADDR=4026531840,e.MB_ERR=4026532864,e.MB_CPU_INIT=4294967293,e.MB_ERR_NONE=0,e.MB_ERR_UNAUTH_READ=1,e.MB_ERR_UNAUTH_WRITE=2,e}return(0,b.default)(t,e),(0,l.default)(t,[{key:"reset",value:function(){this._memory.reset();var e=!0,t=!1,r=void 0;try{for(var n,i=(0,s.default)(this.devices);!(e=(n=i.next()).done);e=!0){var o=n.value;o.reset()}}catch(e){t=!0,r=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw r}}}},{key:"addDevice",value:function(e){this._devices.push(e),e.initializeConstants(this._addr),e.addr=this._addr,e.mb=this,this._memory.set32(4*(this._devices.length-1),this._addr),this._addr+=e.memorySize(),e.hasInterrupt()&&(e.interruptNumber=++this._interruptCount),e.deviceType()===m.default.Type.MMU?this._mmu=e:e.deviceType()===m.default.Type.CPU?this._cpu=e:e.deviceType()===m.default.Type.BIOS&&(this._cpu.PC=e.BIOS_CODE)}},{key:"step",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,i=(0,s.default)(this._devices);!(e=(n=i.next()).done);e=!0){var o=n.value;o.step()}}catch(e){t=!0,r=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw r}}this._cpu&&this._cpu.checkInterrupts()}},{key:"get",value:function(e){if(4026531840>e&&this._mmu)return this._mmu.getMemory(e);if(e>=4026531840&&4026535936>e)return this._memory.get(e-4026531840);if(e>=4294967292)return 255&this._initialAddress;if(e>=4294967293)return this._initialAddress>>8&255;if(e>=4294967294)return this._initialAddress>>16&255;if(e>=4294967295)return this._initialAddress>>24&255;var t=!0,r=!1,n=void 0;try{for(var i,o=(0,s.default)(this._devices);!(t=(i=o.next()).done);t=!0){var u=i.value;if(e>=u.addr&&e<u.addr+u.memorySize())return u.get(e-u.addr)}}catch(e){r=!0,n=e}finally{try{!t&&o.return&&o.return()}finally{if(r)throw n}}return this._memory.set(1024,this.MB_ERR_UNAUTH_READ),this.pushInterrupt(1),0}},{key:"set",value:function(e,t){if(4026531840>e&&this._mmu)this._mmu.setMemory(e,t);else if(4026532864==e)this._memory[1024]=t;else if(e>=4026531840&&4026535936>e)this._memory.set(1024,this.MB_ERR_UNAUTH_WRITE),this.pushInterrupt(1);else{var r=!0,n=!1,i=void 0;try{for(var o,u=(0,s.default)(this._devices);!(r=(o=u.next()).done);r=!0){var a=o.value;if(e>=a.addr&&e<a.addr+a.memorySize())return void a.set(e-a.addr,t)}}catch(e){n=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(n)throw i}}this._memory.set(1024,this.MB_ERR_UNAUTH_WRITE),this.pushInterrupt(1)}}},{key:"pushInterrupt",value:function(e){this._cpu&&this._cpu.pushInterrupt(e)}},{key:"memoryMap",value:function(){var e=[];this._mmu&&e.push({addr:0,deviceType:m.default.Type.RAM,size:this._mmu.active()?4026531840:this._mmu.ramSize()}),this._mmu.ramSize()<4026531840&&!this._mmu.active()&&e.push({addr:this._mmu.ramSize(),deviceType:m.default.Type.UNUSED,size:4026531840-this._mmu.ramSize()}),e.push({addr:4026531840,deviceType:m.default.Type.MOTHERBOARD,size:4096});var t=4026535936,r=!0,n=!1,i=void 0;try{for(var o,u=(0,s.default)(this._devices);!(r=(o=u.next()).done);r=!0){var a=o.value;e.push({addr:t,deviceType:a.deviceType(),size:a.memorySize()}),t+=a.memorySize()}}catch(e){n=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(n)throw i}}return e.push({addr:t,deviceType:m.default.Type.UNUSED,size:4294967296-t}),e}},{key:"devices",get:function(){return this._devices.slice(0)}}]),t}(g.default));r.default=C},{"./cpu":88,"./device":90,"./lsbstorage":93,"./mmu":94,"./ram":96,"babel-runtime/core-js/get-iterator":2,"babel-runtime/core-js/object/get-prototype-of":7,"babel-runtime/helpers/classCallCheck":12,"babel-runtime/helpers/createClass":13,"babel-runtime/helpers/inherits":15,"babel-runtime/helpers/possibleConstructorReturn":16}],96:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),s=n(i),o=e("babel-runtime/helpers/classCallCheck"),u=n(o),a=e("babel-runtime/helpers/createClass"),c=n(a),f=e("babel-runtime/helpers/possibleConstructorReturn"),l=n(f),_=e("babel-runtime/helpers/inherits"),h=n(_),p=e("./lsbstorage"),b=n(p),d=function(e){function t(e){(0,u.default)(this,t);var r=(0,l.default)(this,(0,s.default)(t).call(this));return r._size=1024*e,r.reset(),r}return(0,h.default)(t,e),(0,c.default)(t,[{key:"reset",value:function(){this._data=new Uint8Array(this._size)}},{key:"get",value:function(e){if(0>e||e>=this._size){var t=new Error;throw t.name="out of bounds",t}return this._data[e]}},{key:"set",value:function(e,t){if(0>e||e>=this._size){var r=new Error;throw r.name="out of bounds",r}if(0>t||t>255){var r=new Error;throw r.name="invalid data ("+t+")",r}this._data[e]=t}},{key:"size",get:function(){return this._size}}]),t}(b.default);r.default=d},{"./lsbstorage":93,"babel-runtime/core-js/object/get-prototype-of":7,"babel-runtime/helpers/classCallCheck":12,"babel-runtime/helpers/createClass":13,"babel-runtime/helpers/inherits":15,"babel-runtime/helpers/possibleConstructorReturn":16}],97:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/get-iterator"),s=n(i),o=e("babel-runtime/core-js/object/get-prototype-of"),u=n(o),a=e("babel-runtime/helpers/classCallCheck"),c=n(a),f=e("babel-runtime/helpers/createClass"),l=n(f),_=e("babel-runtime/helpers/possibleConstructorReturn"),h=n(_),p=e("babel-runtime/helpers/get"),b=n(p),d=e("babel-runtime/helpers/inherits"),g=n(d),v=e("./device"),m=n(v),y=function(e){function t(e){(0,c.default)(this,t);var r=(0,h.default)(this,(0,u.default)(t).call(this));if(void 0===e||e.constructor!==Array)throw new Error("`units` must be an array.");if(e.length>4)throw new Error("Maximum of 4 units");var n=!0,i=!1,o=void 0;try{for(var a,f=(0,s.default)(e);!(n=(a=f.next()).done);n=!0){var l=a.value;if(!l.get||!l.set||!l.size)throw new Error("Missing method in unit")}}catch(e){i=!0,o=e}finally{try{!n&&f.return&&f.return()}finally{if(i)throw o}}return r.STG_OP_READ=1,r.STG_OP_WRITE=2,r.STG_OP_SIZE=3,r.STG_MODE_POLL=0,r.STG_MODE_INTERRUPT=1,r.STG_STATUS_OK=0,r.STG_STATUS_WAITING=1,r.STG_STATUS_ADDRESS_ERROR=2,r.STG_STATUS_UNAVALIABLE=3,r.STG_STATUS_PHYSICAL_ERROR=4,r._units=e,r._const=r.constantList(),r._mode=r.STG_MODE_POLL,r._status=r.STG_STATUS_OK,r._p=new Uint32Array(8),r._r=new Uint32Array(2),r}return(0,g.default)(t,e),(0,l.default)(t,[{key:"name",value:function(){return"TinyStorage"}},{key:"deviceType",value:function(){return m.default.Type.STORAGE}},{key:"version",value:function(){return 0}},{key:"hasInterrupt",value:function(){return!0}},{key:"constantList",value:function(){return{STG_TYPE:0,STG_VERSION:1,STG_INTERRUPT:2,STG_NAME:3,STG_MODE:16,STG_OP_STATUS:17,STG_UNIT_LIST:18,STG_OP:19,STG_P0:20,STG_P1:24,STG_P2:28,STG_P3:32,STG_P4:36,STG_P5:40,STG_P6:44,STG_P7:48,STG_R0:52,STG_R1:56}}},{key:"get",value:function(e){if(16>e)return(0,b.default)((0,u.default)(t.prototype),"get",this).call(this,e);if(e==this._const.STG_MODE)return this._mode;if(e==this._const.STG_OP_STATUS)return this._status;if(e==this._const.STG_UNIT_LIST){var r=0;for(var n in this._units)r<<=1,r|=1;return r}var i=void 0;if(e>=this._const.STG_P0&&e<this._const.STG_P0+32?i=this._p[Math.floor((e-this._const.STG_P0)/4)]:e>=this._const.STG_R0&&e<this._const.STG_R0+8&&(i=this._r[Math.floor((e-this._const.STG_R0)/4)]),void 0!==i)switch(e%4){case 0:return 255&i;case 1:return i>>8&255;case 2:return i>>16&255;case 3:return i>>24&255}return 0}},{key:"set",value:function(e,r){if(16>e)(0,b.default)((0,u.default)(t.prototype),"set",this).call(this,e,r);else if(e==this._const.STG_MODE)this._mode=0==e?this.STG_MODE_POLL:this.STG_MODE_INTERRUPT;else if(e==this._const.STG_OP)this._r=this._execute(r);else{var n=void 0,i=void 0;if(e>=this._const.STG_P0&&e<this._const.STG_P0+32&&(n=Math.floor((e-this._const.STG_P0)/4),i=this._p),i)switch(e%4){case 0:i[n]&=-256,i[n]|=r;break;case 1:i[n]&=-65281,i[n]|=r<<8;break;case 2:i[n]&=-16711681,i[n]|=r<<16;break;case 3:i[n]&=16777215,i[n]|=r<<24}}}},{key:"fireInterrupt",value:function(e){this._status=e,this._mode==this.STG_MODE_INTERRUPT&&(0,b.default)((0,u.default)(t.prototype),"fireInterrupt",this).call(this)}},{key:"_execute",value:function(e){if((e===this.STG_OP_READ||e===this.STG_OP_WRITE||e===this.STG_OP_SIZE)&&this._p[0]>=this._units.length)return this.fireInterrupt(this.STG_STATUS_UNAVALIABLE),[0,0];if(e===this.STG_OP_SIZE){var t=this._units[this._p[0]].size,r=Math.floor(t/Math.pow(2,32)),n=4294967295&t;return[n,r]}if(e===this.STG_OP_READ){var i=this._units[this._p[0]],s=(this._p[1]|Math.floor(this._p[2]*Math.pow(2,32)))>>>0,o=this._p[3],u=this._p[4];if(s+u>i.size)return this.fireInterrupt(this.STG_STATUS_ADDRESS_ERROR),[0,0];for(var a=0;u>a;++a)this.mb.set(o+a,i.get(s+a));this.fireInterrupt(this.STG_STATUS_OK)}else if(e===this.STG_OP_WRITE){var i=this._units[this._p[0]],o=this._p[1],s=(this._p[2]|Math.floor(this._p[3]*Math.pow(2,32)))>>>0,u=this._p[4];if(s+u>i.size)return this.fireInterrupt(this.STG_STATUS_ADDRESS_ERROR),[0,0];for(var a=0;u>a;++a)i.set(s+a,this.mb.get(o+a));this.fireInterrupt(this.STG_STATUS_OK)}return[0,0]}}]),t}(m.default);r.default=y},{"./device":90,"babel-runtime/core-js/get-iterator":2,"babel-runtime/core-js/object/get-prototype-of":7,"babel-runtime/helpers/classCallCheck":12,"babel-runtime/helpers/createClass":13,"babel-runtime/helpers/get":14,"babel-runtime/helpers/inherits":15,"babel-runtime/helpers/possibleConstructorReturn":16}],98:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),s=n(i),o=e("babel-runtime/helpers/classCallCheck"),u=n(o),a=e("babel-runtime/helpers/createClass"),c=n(a),f=e("babel-runtime/helpers/possibleConstructorReturn"),l=n(f),_=e("babel-runtime/helpers/get"),h=n(_),p=e("babel-runtime/helpers/inherits"),b=n(p),d=e("./device"),g=n(d),v=function(e){function t(){(0,u.default)(this,t);var e=(0,l.default)(this,(0,s.default)(t).call(this));return e._const=e.constantList(),e._dateDiff=new Date(2016,1,1).valueOf(),e._currentTime=Date.now()-e._dateDiff,e._timers=new Uint32Array(10),e._counters=new Uint32Array(10),e._lastStep=Date.now(),e._interruptCalled=0,e}return(0,b.default)(t,e),(0,c.default)(t,[{key:"name",value:function(){return"TinyTimer"}},{key:"deviceType",value:function(){return g.default.Type.TIMER}},{key:"version",value:function(){return 0}},{key:"hasInterrupt",value:function(){return!0}},{key:"constantList",value:function(){return{TM_TYPE:0,TM_VERSION:1,TM_INTERRUPT:2,TM_NAME:3,TM_CLOCK:16,TM_TIMER0:20,TM_TIMER1:24,TM_TIMER2:28,TM_TIMER3:32,TM_TIMER4:36,TM_TIMER5:40,TM_TIMER6:44,TM_TIMER7:48,TM_TIMER8:52,TM_TIMER9:56,TM_COUNTER0:60,TM_COUNTER1:64,TM_COUNTER2:68,TM_COUNTER3:72,TM_COUNTER4:76,TM_COUNTER5:80,TM_COUNTER6:84,TM_COUNTER7:88,TM_COUNTER8:92,TM_COUNTER9:96,TM_CUR_INT:100}}},{key:"get",value:function(e){if(16>e)return(0,h.default)((0,s.default)(t.prototype),"get",this).call(this,e);if(e===this._const.TM_CUR_INT)return this._interruptCalled;var r=void 0;if(e>=this._const.TM_CLOCK&&e<this._const.TM_CLOCK+4?r=this._currentTime:e>=this._const.TM_TIMER0&&e<this._const.TM_TIMER9+4?r=this._timers[Math.floor((e-this._const.TM_TIMER0)/4)]:e>=this._const.TM_COUNTER0&&e<this._const.TM_COUNTER9+4&&(r=this._timers[Math.floor((e-this._const.TM_COUNTER0)/4)]),void 0!==r)switch(e%4){case 0:return 255&r;case 1:return r>>8&255;case 2:return r>>16&255;case 3:return r>>24&255}return 0}},{key:"set",value:function(e,r){if(16>e)(0,h.default)((0,s.default)(t.prototype),"set",this).call(this,e,r);else{var n=void 0;if(e>=this._const.TM_TIMER0&&e<this._const.TM_TIMER9+32&&(n=Math.floor((e-this._const.TM_TIMER0)/4)),void 0!==n)switch(e%4){case 0:this._timers[n]&=-256,this._timers[n]|=r,this._counters[n]=0;break;case 1:this._timers[n]&=-65281,this._timers[n]|=r<<8,this._counters[n]=0;break;case 2:this._timers[n]&=-16711681,this._timers[n]|=r<<16,this._counters[n]=0;break;case 3:this._timers[n]&=16777215,this._timers[n]|=r<<24,this._counters[n]=0}}}},{key:"step",value:function(){this._currentTime=Date.now()-this._dateDiff;for(var e=Date.now(),t=0;10>t;++t)0!==this._timers[t]&&(this._counters[t]+=e-this._lastStep,this._counters[t]>=this._timers[t]&&(this._counters[t]=0,this._interruptCalled=t,this.fireInterrupt()));this._lastStep=e}}]),t}(g.default);r.default=v},{"./device":90,"babel-runtime/core-js/object/get-prototype-of":7,"babel-runtime/helpers/classCallCheck":12,"babel-runtime/helpers/createClass":13,"babel-runtime/helpers/get":14,"babel-runtime/helpers/inherits":15,"babel-runtime/helpers/possibleConstructorReturn":16}],99:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/helpers/classCallCheck"),s=n(i),o=e("babel-runtime/helpers/createClass"),u=n(o),a=e("./motherboard"),c=n(a),f=e("./ram"),l=n(f),_=e("./mmu"),h=n(_),p=e("./cpu"),b=n(p),d=e("./storage"),g=n(d),v=e("./keyboard"),m=n(v),y=e("./timer"),k=n(y),T=e("./bios"),M=n(T),C=e("./video"),w=n(C),P=function(){function e(t,r,n,i){(0,s.default)(this,e),this.mb=new c.default,this.mmu=new h.default(new l.default(t)),this.cpu=new b.default(this.mb),this.storage=new g.default(r),this.keyboard=new m.default,this.timer=new k.default,this.bios=new M.default(i),this.video=new w.default(n),this.mb.addDevice(this.mmu),this.mb.addDevice(this.cpu),this.mb.addDevice(this.storage),this.mb.addDevice(this.keyboard),this.mb.addDevice(this.timer),this.mb.addDevice(this.bios),this.mb.addDevice(this.video)}return(0,u.default)(e,[{key:"step",value:function(){this.mb.step()}}]),e}();r.default=P},{"./bios":86,"./cpu":88,"./keyboard":92,"./mmu":94,"./motherboard":95,"./ram":96,"./storage":97,"./timer":98,"./video":100,"babel-runtime/helpers/classCallCheck":12,"babel-runtime/helpers/createClass":13}],100:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),s=n(i),o=e("babel-runtime/helpers/classCallCheck"),u=n(o),a=e("babel-runtime/helpers/createClass"),c=n(a),f=e("babel-runtime/helpers/possibleConstructorReturn"),l=n(f),_=e("babel-runtime/helpers/get"),h=n(_),p=e("babel-runtime/helpers/inherits"),b=n(p),d=e("./device"),g=n(d),v=e("./chars"),m=n(v),y=function(e){function t(e){(0,u.default)(this,t);var r=(0,l.default)(this,(0,s.default)(t).call(this));return r.VID_OP_CLRSCR=2,r.VID_OP_DRAW_PX=3,r.VID_OP_GET_PX=4,r.VID_OP_WRITE=5,r._const=r.constantList(),r._width=e.width,r._height=e.height,r._canvas=e,r._ctx=e.getContext("2d"),r._data=r._ctx.getImageData(0,0,r._width,r._height),r._p=new Uint32Array(8),r._r=new Uint32Array(2),r._charCache={},r._ctx.fillStyle="black",r._ctx.fillRect(0,0,r._width,r._height),r}return(0,b.default)(t,e),(0,c.default)(t,[{key:"name",value:function(){return"TinyVideo"}},{key:"deviceType",value:function(){return g.default.Type.VIDEO}},{key:"version",value:function(){return 0}},{key:"hasInterrupt",value:function(){return!1}},{key:"memorySize",value:function(){return 100663296}},{key:"constantList",value:function(){return{VID_TYPE:0,VID_VERSION:1,VID_INTERRUPT:2,VID_NAME:3,VID_WIDTH:16,VID_HEIGHT:17,VID_OP:18,VID_P0:20,VID_P1:24,VID_P2:28,VID_P3:32,VID_P4:36,VID_P5:40,VID_P6:44,VID_P7:48,VID_R0:52,VID_R1:56,VID_DATA:65536}}},{key:"get",value:function(e){if(16>e)return(0,h.default)((0,s.default)(t.prototype),"get",this).call(this,e);if(e===this._const.VID_WIDTH)return this._width;
if(e===this._const.VID_HEIGHT)return this._height;var r=void 0;if(e>=this._const.VID_P0&&e<this._const.VID_P7+4?r=this._p[Math.floor((e-this._const.VID_P0)/4)]:e>=this._const.VID_R0&&e<this._const.VID_R1+4&&(r=this._r[Math.floor((e-this._const.VID_R0)/4)]),void 0!==r)switch(e%4){case 0:return 255&r;case 1:return r>>8&255;case 2:return r>>16&255;case 3:return r>>24&255}return 0}},{key:"set",value:function(e,r){if(16>e)(0,h.default)((0,s.default)(t.prototype),"set",this).call(this,e,r);else if(e===this._const.VID_OP)this._r=this._execute(r);else{var n=void 0,i=void 0;if(e>=this._const.VID_P0&&e<this._const.VID_P7+4?(n=Math.floor((e-this._const.VID_P0)/4),i=this._p):e>=this._const.VID_R0&&e<this._const.VID_R1+4&&(n=Math.floor((e-this._const.VID_R0)/4),i=this._p),i)switch(e%4){case 0:i[n]&=-256,i[n]|=r;break;case 1:i[n]&=-65281,i[n]|=r<<8;break;case 2:i[n]&=-16711681,i[n]|=r<<16;break;case 3:i[n]&=16777215,i[n]|=r<<24}}}},{key:"_execute",value:function(e){switch(e){case this.VID_OP_CLRSCR:this._ctx.fillStyle="rgb("+(this._p[0]>>16&255)+","+(this._p[0]>>8&255)+","+(255&this._p[0])+")",this._ctx.fillRect(0,0,this._width,this._height);break;case this.VID_OP_DRAW_PX:var t=4*(this._p[0]+this._p[1]*this._width);this._data.data[t+3]=255,this._data.data[t+0]=this._p[2]>>16&255,this._data.data[t+1]=this._p[2]>>8&255,this._data.data[t+2]=255&this._p[2],this._ctx.putImageData(this._data,0,0,this._p[0],this._p[1],1,1);break;case this.VID_OP_GET_PX:var r=this._ctx.getImageData(this._p[0],this._p[1],1,1).data;return[r[0]<<16|r[1]<<8|r[2],0];case this.VID_OP_WRITE:this._drawChar.apply(this,this._p.slice(0,7))}return[0,0]}},{key:"_drawChar",value:function(e,t,r,n,i,s,o){var u=this._charImage(e,n,i),a=10+6*t+s,c=10+9*r+o;this._ctx.putImageData(u,a,c)}},{key:"_charImage",value:function(e,t,r){var n=e.toString(16)+"_"+t.toString(16)+r.toString(16),i=this._charCache[n];if(i)return i;var s=this._createCharImage(e,t,r);return this._charCache[n]=s,s}},{key:"_createCharImage",value:function(e,t,r){for(var n=this._ctx.createImageData(6,9),i=0;9>i;++i)for(var s=0;6>s;++s){var o=4*(5-s+6*i),u=m.default[e][i]>>s&1;n.data[o+3]=255,n.data[o]=(u?r:t)>>16&255,n.data[o+1]=(u?r:t)>>8&255,n.data[o+2]=255&(u?r:t)}return n}}]),t}(g.default);r.default=y},{"./chars":87,"./device":90,"babel-runtime/core-js/object/get-prototype-of":7,"babel-runtime/helpers/classCallCheck":12,"babel-runtime/helpers/createClass":13,"babel-runtime/helpers/get":14,"babel-runtime/helpers/inherits":15,"babel-runtime/helpers/possibleConstructorReturn":16}]},{},[91]);